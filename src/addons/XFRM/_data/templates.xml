<?xml version="1.0" encoding="utf-8"?>
<templates>
  <template type="public" title="alert_resource_rating_reply" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[{{ phrase('xfrm_x_replied_review_resource_y', {
	'name': username_link($user, false, {'defaultname': $alert.username}),
	'title': '<a href="' . link('resources/review', $content) . '" class="fauxBlockLink-blockLink">' . prefix('resource', $content.Resource) . $content.Resource.title . '</a>'
}) }}]]></template>
  <template type="public" title="alert_resource_rating_review" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[{{ phrase('xfrm_x_reviewed_resource_y', {
	'username': username_link($user, false, {'defaultname': $alert.username}),
	'title': '<a href="' . link('resources/review', $content) . '" class="fauxBlockLink-blockLink">' . prefix('resource', $content.Resource) . $content.Resource.title . '</a>'
}) }}]]></template>
  <template type="public" title="alert_resource_update_insert" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:if is="$content.isDescription()">
	{{ phrase('xfrm_x_created_resource_y', {
		'name': username_link($user, false, {'defaultname': $alert.username}),
		'title': '<a href="' . link('resources', $content.Resource) . '" class="fauxBlockLink-blockLink">' . prefix('resource', $content.Resource) . $content.Resource.title . '</a>'
	}) }}
<xf:else />
	{{ phrase('xfrm_x_updated_resource_y', {
		'name': username_link($user, false, {'defaultname': $alert.username}),
		'title': '<a href="' . link('resources/update', $content) . '" class="fauxBlockLink-blockLink">' . prefix('resource', $content.Resource) . $content.Resource.title . '</a>'
	}) }}
</xf:if>]]></template>
  <template type="public" title="alert_resource_update_like" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:if is="$content.isDescription()">
	{{ phrase('xfrm_x_liked_your_resource_y', {
		'name': username_link($user, false, {'defaultname': $alert.username}),
		'title': '<a href="' . link('resources', $content.Resource) . '" class="fauxBlockLink-blockLink">' . prefix('resource', $content.Resource) . $content.Resource.title . '</a>'
	}) }}
<xf:else />
	{{ phrase('xfrm_x_liked_your_update_resource_y', {
		'name': username_link($user, false, {'defaultname': $alert.username}),
		'title': '<a href="' . link('resources/update', $content) . '" class="fauxBlockLink-blockLink">' . prefix('resource', $content.Resource) . $content.Resource.title . '</a>'
	}) }}
</xf:if>]]></template>
  <template type="public" title="alert_resource_update_mention" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:if is="$content.isDescription()">
	{{ phrase('xfrm_x_mentioned_you_in_resource_y', {
		'name': username_link($user, false, {'defaultname': $alert.username}),
		'title': '<a href="' . link('resources', $content.Resource) . '" class="fauxBlockLink-blockLink">' . prefix('resource', $content.Resource) . $content.Resource.title . '</a>'
	}) }}
<xf:else />
	{{ phrase('xfrm_x_mentioned_you_in_update_resource_y', {
		'name': username_link($user, false, {'defaultname': $alert.username}),
		'title': '<a href="' . link('resources/update', $content) . '" class="fauxBlockLink-blockLink">' . prefix('resource', $content.Resource) . $content.Resource.title . '</a>'
	}) }}
</xf:if>]]></template>
  <template type="public" title="alert_user_resource_delete" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[{{ phrase('xfrm_your_resource_x_was_deleted', {
	'title': prefix('resource', $extra.prefix_id) . $extra.title
}) }}
<xf:if is="$extra.reason">{{ phrase('reason:') }} {$extra.reason}</xf:if>]]></template>
  <template type="public" title="alert_user_resource_edit" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[{{ phrase('xfrm_your_resource_x_was_edited', {
	'title': '<a href="' . base_url($extra.link) . '" class="fauxBlockLink-blockLink">' . prefix('resource', $extra.prefix_id) . $extra.title . '</a>'
}) }}
<xf:if is="$extra.reason">{{ phrase('reason:') }} {$extra.reason}</xf:if>]]></template>
  <template type="public" title="alert_user_resource_move" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[{{ phrase('xfrm_your_resource_x_was_moved', {
	'title': '<a href="' . base_url($extra.link) . '" class="fauxBlockLink-blockLink">' . prefix('resource', $extra.prefix_id) . $extra.title . '</a>'
}) }}
<xf:if is="$extra.reason">{{ phrase('reason:') }} {$extra.reason}</xf:if>]]></template>
  <template type="public" title="alert_user_resource_rating_delete" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[{{ phrase('xfrm_your_review_for_x_was_deleted', {
	'title': prefix('resource', $extra.prefix_id) . $extra.title
}) }}
<xf:if is="$extra.reason">{{ phrase('reason:') }} {$extra.reason}</xf:if>]]></template>
  <template type="public" title="alert_user_resource_reassign_from" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[{{ phrase('xfrm_your_resource_x_was_reassigned_to_y', {
	'title': '<a href="' . base_url($extra.link) . '" class="fauxBlockLink-blockLink">' . prefix('resource', $extra.prefix_id) . $extra.title . '</a>',
	'to': $extra.to
}) }}
<xf:if is="$extra.reason">{{ phrase('reason:') }} {$extra.reason}</xf:if>]]></template>
  <template type="public" title="alert_user_resource_reassign_to" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[{{ phrase('xfrm_resource_x_was_reassigned_to_you', {
	'title': '<a href="' . base_url($extra.link) . '" class="fauxBlockLink-blockLink">' . prefix('resource', $extra.prefix_id) . $extra.title . '</a>'
}) }}
<xf:if is="$extra.reason">{{ phrase('reason:') }} {$extra.reason}</xf:if>]]></template>
  <template type="public" title="alert_user_resource_update_delete" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[{{ phrase('xfrm_your_update_x_for_y_was_deleted', {
	'update': $extra.update,
	'resource': prefix('resource', $extra.prefix_id) . $extra.title
}) }}
<xf:if is="$extra.reason">{{ phrase('reason:') }} {$extra.reason}</xf:if>]]></template>
  <template type="public" title="alert_user_resource_update_edit" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[{{ phrase('xfrm_your_update_x_for_y_was_edited', {
	'update': $extra.update,
	'resource': '<a href="' . base_url($extra.link) . '" class="fauxBlockLink-blockLink">' . prefix('resource', $extra.prefix_id) . $extra.title . '</a>'
}) }}
<xf:if is="$extra.reason">{{ phrase('reason:') }} {$extra.reason}</xf:if>]]></template>
  <template type="public" title="approval_item_resource" version_id="2000038" version_string="2.0.0 Beta 8"><![CDATA[<xf:formrow label="{{ phrase('xfrm_resource') }}">
	<a href="{{ link('resources', $content) }}">{$content.title}</a>
</xf:formrow>

<xf:formrow label="{{ phrase('category') }}">
	<a href="{{ link('resources/categories', $content.Category) }}">{$content.Category.title}</a>
</xf:formrow>

<xf:formrow label="{{ phrase('author') }}">
	<xf:username user="$content.User" defaultname="{$content.username}" rich="true" />
</xf:formrow>

<xf:formrow label="{{ phrase('post_date') }}">
	<xf:date time="$content.resource_date" />
</xf:formrow>

<xf:macro template="approval_queue_macros" name="spam_log" arg-spamDetails="{$spamDetails}" />

<xf:formrow label="{{ phrase('content') }}">
	{{ bb_code($content.Description.message, 'resource_update', $content.Description) }}
</xf:formrow>

<xf:macro template="approval_queue_macros" name="action_row"
	arg-unapprovedItem="{$unapprovedItem}"
	arg-handler="{$handler}" />]]></template>
  <template type="public" title="approval_item_resource_update" version_id="2000038" version_string="2.0.0 Beta 8"><![CDATA[<xf:formrow label="{{ phrase('xfrm_resource_update') }}">
	{{ phrase('xfrm_update_x_in_resource_y', {
		'title': '<a href="' . link('resources/update', $content) . '">' . $content.title . '</a>',
		'resource': '<a href="' . link('resources', $content.Resource) . '">' . $content.Resource.title . '</a>'
	}) }}
</xf:formrow>

<xf:formrow label="{{ phrase('author') }}">
	<xf:username user="$content.Resource.User" defaultname="{$content.Resource.username}" rich="true" />
</xf:formrow>

<xf:formrow label="{{ phrase('post_date') }}">
	<xf:date time="$content.post_date" />
</xf:formrow>

<xf:macro template="approval_queue_macros" name="spam_log" arg-spamDetails="{$spamDetails}" />

<xf:formrow label="{{ phrase('content') }}">
	{{ bb_code($content.message, 'resource_update', $content) }}
</xf:formrow>

<xf:macro template="approval_queue_macros" name="action_row"
	arg-unapprovedItem="{$unapprovedItem}"
	arg-handler="{$handler}" />]]></template>
  <template type="public" title="approval_item_resource_version" version_id="2000270" version_string="2.0.2"><![CDATA[<xf:formrow label="{{ phrase('xfrm_resource_version') }}">
	{{ phrase('xfrm_resource_version_in_x', {
		'title': '<a href="' . link('resources/history', $content) . '">' . $content.Resource.title . '</a>'
	}) }}
</xf:formrow>

<xf:formrow label="{{ phrase('author') }}">
	<xf:username user="$content.Resource.User" defaultname="{$content.Resource.username}" rich="true" />
</xf:formrow>

<xf:formrow label="{{ phrase('xfrm_release_date') }}">
	<xf:date time="$content.release_date" />
</xf:formrow>

<xf:formrow label="{{ phrase('download') }}">
	<xf:button class="button--link" href="{{ link('resources/version/download', $content) }}">{{ phrase('download') }}</xf:button>
</xf:formrow>

<xf:macro template="approval_queue_macros" name="action_row"
	arg-unapprovedItem="{$unapprovedItem}"
	arg-handler="{$handler}" />]]></template>
  <template type="public" title="core_xfrm.less" version_id="2000052" version_string="2.0.0 Release Candidate 2"><![CDATA[.avatar.avatar--resourceIconDefault
{
	color: @xf-textColorMuted !important;
	background: mix(@xf-textColorMuted, @xf-avatarBg, 25%) !important;
	text-align: center;
	line-height: 1.5;

	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;

	> span:before
	{
		.m-faBase();
		.m-faContent(@fa-var-cog, .86em);
		vertical-align: -0.03em;
	}
}]]></template>
  <template type="public" title="inline_mod_resource_apply_prefix" version_id="2000036" version_string="2.0.0 Beta 6"><![CDATA[<xf:title>{{ phrase('apply_prefix') }}</xf:title>

<xf:form action="{{ link('inline-mod') }}" class="block" ajax="true">
	<div class="block-container">
		<div class="block-body">
			<xf:inforow rowtype="confirm">{{ phrase('xfrm_you_sure_you_want_to_apply_prefix_to_x_resources', {'total': $total}) }}</xf:inforow>

			<xf:macro template="prefix_macros" name="row"
				arg-type="resource"
				arg-prefixes="{$prefixes}"
				arg-selected="{$selectedPrefix}"
				arg-explain="{{ ($categoryCount > 1) ? phrase('xfrm_apply_resource_prefix_to_multiple_categories') : '' }}" />
		</div>
		<xf:submitrow icon="confirm" />
	</div>

	<xf:foreach loop="$resources" value="$resource">
		<xf:hiddenval name="ids[]">{$resource.resource_id}</xf:hiddenval>
	</xf:foreach>

	<xf:hiddenval name="type">resource</xf:hiddenval>
	<xf:hiddenval name="action">apply_prefix</xf:hiddenval>
	<xf:hiddenval name="confirmed">1</xf:hiddenval>

	<xf:redirect url="{$redirect}" />
</xf:form>]]></template>
  <template type="public" title="inline_mod_resource_delete" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('xfrm_delete_resources') }}</xf:title>

<xf:form action="{{ link('inline-mod') }}" class="block" ajax="true">
	<div class="block-container">
		<div class="block-body">
			<xf:inforow rowtype="confirm">{{ phrase('xfrm_you_sure_you_want_to_delete_x_resources', {'total': $total}) }}</xf:inforow>

			<xf:macro template="helper_action" name="delete_type" arg-canHardDelete="{$canHardDelete}" />

			<xf:macro template="helper_action" name="author_alert" />
		</div>
		<xf:submitrow icon="delete" />
	</div>

	<xf:foreach loop="$resources" value="$resource">
		<xf:hiddenval name="ids[]">{$resource.resource_id}</xf:hiddenval>
	</xf:foreach>

	<xf:hiddenval name="type">resource</xf:hiddenval>
	<xf:hiddenval name="action">delete</xf:hiddenval>
	<xf:hiddenval name="confirmed">1</xf:hiddenval>

	<xf:redirect url="{$redirect}" />
</xf:form>]]></template>
  <template type="public" title="inline_mod_resource_move" version_id="2000036" version_string="2.0.0 Beta 6"><![CDATA[<xf:js src="xf/prefix_menu.js" min="1" />

<xf:title>{{ phrase('xfrm_move_resources') }}</xf:title>

<xf:form action="{{ link('inline-mod') }}" class="block" ajax="true">
	<div class="block-container">
		<div class="block-body js-prefixListenContainer">
			<xf:inforow rowtype="confirm">{{ phrase('xfrm_you_sure_you_want_to_move_x_resources', {'total': $total}) }}</xf:inforow>
			<xf:selectrow name="target_category_id" value="{$first.resource_category_id}" class="js-categoryList"
				label="{{ phrase('xfrm_destination_category') }}">

				<xf:foreach loop="$categoryTree.getFlattened(0)" value="$treeEntry">
					<xf:option value="{$treeEntry.record.resource_category_id}">{{ repeat_raw('&nbsp; ', $treeEntry.depth) }} {$treeEntry.record.title}</xf:option>
				</xf:foreach>
			</xf:selectrow>

			<xf:checkboxrow>
				<xf:option name="apply_prefix"
					label="{{ phrase('xfrm_apply_prefix_to_selected_resources') }}">

					<xf:dependent>
						<xf:macro template="prefix_macros" name="select"
							arg-type="resource"
							arg-prefixes="{$prefixes}"
							arg-href="{{ link('resources/prefixes') }}"
							arg-listenTo="< .js-prefixListenContainer | .js-categoryList" />
					</xf:dependent>
				</xf:option>
			</xf:checkboxrow>

			<xf:checkboxrow>
				<xf:option name="notify_watchers" value="1" selected="{{ true }}">{{ phrase('xfrm_notify_members_watching_destination_category') }}</xf:option>
			</xf:checkboxrow>

			<xf:macro template="helper_action" name="author_alert" arg-selected="{{ true }}" />
		</div>
		<xf:submitrow icon="move" />
	</div>

	<xf:foreach loop="$resources" value="$resource">
		<xf:hiddenval name="ids[]">{$resource.resource_id}</xf:hiddenval>
	</xf:foreach>

	<xf:hiddenval name="type">resource</xf:hiddenval>
	<xf:hiddenval name="action">move</xf:hiddenval>
	<xf:hiddenval name="confirmed">1</xf:hiddenval>

	<xf:redirect url="{$redirect}" />
</xf:form>]]></template>
  <template type="public" title="inline_mod_resource_reassign" version_id="2000036" version_string="2.0.0 Beta 6"><![CDATA[<xf:title>{{ phrase('xfrm_reassign_resources') }}</xf:title>

<xf:form action="{{ link('inline-mod') }}" class="block" ajax="true">
	<div class="block-container">
		<div class="block-body js-prefixListenContainer">
			<xf:inforow rowtype="confirm">{{ phrase('xfrm_you_sure_you_want_to_reassign_x_resources', {'total': $total}) }}</xf:inforow>

			<xf:textboxrow name="username" ac="single" maxlength="{{ max_length($xf.visitor, 'username') }}"
				label="{{ phrase('xfrm_new_owner') }}" />

			<xf:checkboxrow>
				<xf:option name="alert" selected="{{ true }}"
					label="{{ phrase('xfrm_notify_current_and_new_owners_of_this_action') }} {{ phrase('reason:') }}">

					<xf:textbox name="alert_reason" placeholder="{{ phrase('optional') }}" maxlength="250" />
				</xf:option>
			</xf:checkboxrow>
		</div>
		<xf:submitrow icon="confirm" />
	</div>

	<xf:foreach loop="$resources" value="$resource">
		<xf:hiddenval name="ids[]">{$resource.resource_id}</xf:hiddenval>
	</xf:foreach>

	<xf:hiddenval name="type">resource</xf:hiddenval>
	<xf:hiddenval name="action">reassign</xf:hiddenval>
	<xf:hiddenval name="confirmed">1</xf:hiddenval>

	<xf:redirect url="{$redirect}" />
</xf:form>]]></template>
  <template type="public" title="like_item_resource_update" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:macro name="like_snippet" arg-liker="!" arg-update="!" arg-date="!" arg-fallbackName="{{ phrase('unknown_member') }}">
	<div class="contentRow-title">
		<xf:if is="$update.Resource.user_id == $xf.visitor.user_id">
			<xf:if is="$update.isDescription()">
				{{ phrase('xfrm_x_liked_your_resource_y', {
					'name': username_link($liker, false, {'defaultname': $fallbackName}),
					'title': '<a href="' . link('resources', $update.Resource) . '">' . prefix('resource', $update.Resource) . $update.Resource.title . '</a>'
				}) }}
			<xf:else />
				{{ phrase('xfrm_x_liked_your_update_for_resource_y', {
					'name': username_link($liker, false, {'defaultname': $fallbackName}),
					'title': '<a href="' . link('resources/update', $update) . '">' . prefix('resource', $update.Resource) . $update.Resource.title . '</a>'
				}) }}
			</xf:if>
		<xf:else />
			<xf:if is="$update.isDescription()">
				{{ phrase('xfrm_x_liked_ys_resource_z', {
					'name': username_link($liker, false, {'defaultname': $fallbackName}),
					'author': $update.Resource.username,
					'title': '<a href="' . link('resources', $update.Resource) . '">' . prefix('resource', $update.Resource) . $update.Resource.title . '</a>'
				}) }}
			<xf:else />
				{{ phrase('xfrm_x_liked_ys_update_for_resource_z', {
					'name': username_link($liker, false, {'defaultname': $fallbackName}),
					'author': $update.Resource.username,
					'title': '<a href="' . link('resources/update', $update) . '">' . prefix('resource', $update.Resource) . $update.Resource.title . '</a>'
				}) }}
			</xf:if>
		</xf:if>
	</div>

	<div class="contentRow-snippet">{{
		snippet($update.message, $xf.options.newsFeedMessageSnippetLength, {'stripQuote': true})
	}}</div>

	<div class="contentRow-minor"><xf:date time="{$date}" /></div>
</xf:macro>

<xf:macro name="like_snippet" arg-liker="{$like.Liker}" arg-update="{$content}" arg-date="{$like.like_date}" />]]></template>
  <template type="public" title="news_feed_item_resource_insert" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<div class="contentRow-title">
	{{ phrase('xfrm_x_created_resource_y_in_category_z', {
		'username': username_link($user, false, {'defaultname': $newsFeed.username}),
		'title': '<a href="' . link('resources', $content) . '">' . prefix('resource', $content) . $content.title . '</a>',
		'category': '<a href="' . link('resources/categories', $content.Category) . '">' . $content.Category.title . '</a>'
	}) }}
</div>

<div class="contentRow-snippet">{{ snippet($content.Description.message, $xf.options.newsFeedMessageSnippetLength, {'stripQuote': true}) }}</div>
<xf:if is="{$content.Description.attach_count}">
	<xf:macro template="news_feed_attached_images" name="attached_images"
		arg-attachments="{$content.Description.Attachments}" arg-link="{{ link('resources', $content) }}" />
</xf:if>

<div class="contentRow-minor"><xf:date time="{$newsFeed.event_date}" /></div>]]></template>
  <template type="public" title="news_feed_item_resource_rating_insert" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<div class="contentRow-title">
	{{ phrase('xfrm_x_reviewed_resource_y', {
		'username': username_link($user, false, {'defaultname': phrase('anonymous')}),
		'title': '<a href="' . link('resources/review', $content) . '">' . prefix('resource', $content.Resource) . $content.Resource.title . '</a>'
	}) }}
</div>

<div class="contentRow-snippet">
	<xf:macro template="rating_macros" name="stars"
		arg-rating="{$content.rating}"
		arg-class="ratingStars--smaller" />

	{{ snippet($content.message, $xf.options.newsFeedMessageSnippetLength) }}
</div>


<div class="contentRow-minor"><xf:date time="{$newsFeed.event_date}" /></div>]]></template>
  <template type="public" title="news_feed_item_resource_update_insert" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<div class="contentRow-title">
	{{ phrase('xfrm_x_updated_resource_y_with_update_z', {
		'username': username_link($user, false, {'defaultname': $newsFeed.username}),
	'title': '<a href="' . link('resources/update', $content) . '">' . prefix('resource', $content.Resource) . $content.Resource.title . '</a>',
		'update': '<a href="' . link('resources/update', $content) . '">' . $content.title . '</a>'
	}) }}
</div>

<div class="contentRow-snippet">{{ snippet($content.message, $xf.options.newsFeedMessageSnippetLength, {'stripQuote': true}) }}</div>
<xf:if is="{$content.attach_count}">
	<xf:macro template="news_feed_attached_images" name="attached_images"
		arg-attachments="{$content.Attachments}" arg-link="{{ link('resources', $content) }}" />
</xf:if>

<div class="contentRow-minor"><xf:date time="{$newsFeed.event_date}" /></div>]]></template>
  <template type="public" title="news_feed_item_resource_update_like" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:macro template="like_item_resource_update" name="like_snippet"
	arg-liker="{$user}"
	arg-update="{$content}"
	arg-date="{$newsFeed.event_date}" />]]></template>
  <template type="admin" title="option_template_xfrmResourceDeleteThreadAction" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:formrow
	label="{$option.title}"
	hint="{$hintHtml}"
	html="{$listedHtml}">

	<xf:radio name="{$inputName}[action]" value="{$option.option_value.action}">
		<xf:option value="">{{ phrase('xfrm_no_change') }}</xf:option>
		<xf:option value="delete">{{ phrase('delete_thread') }}</xf:option>
		<xf:option value="close">{{ phrase('close_thread') }}</xf:option>
	</xf:radio>
	<div class="formRow-explain">{$explainHtml}</div>

	<div class="u-inputSpacer">
		<xf:checkbox>
			<xf:option name="{$inputName}[update_title]" selected="{$option.option_value.update_title}"
				label="{{ phrase('xfrm_update_thread_title_on_resource_deletion:') }}">

				<xf:textbox name="{$inputName}[title_template]" value="{$option.option_value.title_template}" />
			</xf:option>

			<xf:option name="{$inputName}[add_post]" selected="{$option.option_value.add_post}"
				label="{{ phrase('xfrm_automatically_post_in_resource_thread_on_resource_deletion') }}"
				hint="{{ phrase('xfrm_if_selected_post_made_automatically_explaining_resource_unavailable') }}" />
		</xf:checkbox>
	</div>
</xf:formrow>]]></template>
  <template type="public" title="report_content_resource_rating" version_id="2000038" version_string="2.0.0 Beta 8"><![CDATA[<div class="block-row block-row--separated">
	{{ structured_text($report.content_info.rating.message) }}
</div>
<div class="block-row block-row--separated block-row--minor">
	<div>
		<dl class="pairs pairs--inline">
			<dt>{{ phrase('xfrm_resource') }}</dt>
			<dd><a href="{{ link('resources', $report.content_info.resource) }}">{$report.content_info.resource.title}</a></dd>
		</dl>
	</div>
	<div>
		<dl class="pairs pairs--inline">
			<dt>{{ phrase('category') }}</dt>
			<dd><a href="{{ link('resources/categories', $report.content_info.category) }}">{$report.content_info.category.title}</a></dd>
		</dl>
	</div>
</div>]]></template>
  <template type="public" title="report_content_resource_update" version_id="2000038" version_string="2.0.0 Beta 8"><![CDATA[<div class="block-row block-row--separated">
	{{ bb_code($report.content_info.update.message, 'resource_update', $content ?: $report.User) }}
</div>
<div class="block-row block-row--separated block-row--minor">
	<div>
		<dl class="pairs pairs--inline">
			<dt>{{ phrase('xfrm_resource') }}</dt>
			<dd><a href="{{ link('resources', $report.content_info.resource) }}">{$report.content_info.resource.title}</a></dd>
		</dl>
	</div>
	<div>
		<dl class="pairs pairs--inline">
			<dt>{{ phrase('category') }}</dt>
			<dd><a href="{{ link('resources/categories', $report.content_info.category) }}">{$report.content_info.category.title}</a></dd>
		</dl>
	</div>
</div>]]></template>
  <template type="public" title="search_form_resource" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('xfrm_search_resources') }}</xf:title>

<xf:macro template="search_form_macros" name="keywords" arg-input="{$input}" />
<xf:macro template="search_form_macros" name="user" arg-input="{$input}" />
<xf:macro template="search_form_macros" name="date" arg-input="{$input}" />

<xf:if is="$prefixesGrouped is not empty">
	<xf:selectrow name="c[prefixes][]" size="7" multiple="true" value="{$input.c.prefixes|default([0])}"
		label="{{ phrase('prefixes') }}">

		<xf:option value="">{{ phrase('(any)') }}</xf:option>
		<xf:foreach loop="$prefixGroups" key="$groupId" value="$prefixGroup" if="{{ count($prefixesGrouped.{$groupId}) > 0 }}">
			<xf:optgroup label="{{ prefix_group('resource', $groupId) }}">
				<xf:foreach loop="{$prefixesGrouped.{$groupId}}" key="$prefixId" value="$prefix">
					<xf:option value="{$prefixId}">{{ prefix_title('resource', $prefixId) }}</xf:option>
				</xf:foreach>
			</xf:optgroup>
		</xf:foreach>
	</xf:selectrow>
</xf:if>

<xf:formrow rowtype="input" label="{{ phrase('xfrm_search_in_categories') }}">

	<ul class="inputList">
		<li><xf:select name="c[categories][]" size="7" multiple="multiple" value="{$input.c.categories|default([0])}">
			<xf:option value="">{{ phrase('all_categories') }}</xf:option>
			<xf:foreach loop="$categoryTree.getFlattened(0)" value="$treeEntry">
				<xf:option value="{$treeEntry.record.resource_category_id}">{{ repeat('&nbsp;&nbsp;', $treeEntry.depth)|raw }} {$treeEntry.record.title}</xf:option>
			</xf:foreach>
		</xf:select></li>
		<li><xf:checkbox standalone="true">
			<xf:option name="c[child_categories]" selected="{{ (!$input.c || $input.c.child_categories) }}" label="{{ phrase('xfrm_search_child_categories_as_well') }}" />
		</xf:checkbox></li>
	</ul>
</xf:formrow>

<xf:checkboxrow>
	<xf:option name="c[include_updates]">{{ phrase('xfrm_include_resource_updates') }}</xf:option>
</xf:checkboxrow>

<xf:macro template="search_form_macros" name="order"
	arg-isRelevanceSupported="{$isRelevanceSupported}"
	arg-input="{$input}" />]]></template>
  <template type="public" title="search_result_resource" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<li class="block-row block-row--separated {{ $resource.isIgnored() ? 'is-ignored' : '' }} js-inlineModContainer" data-author="{{ $resource.User.username ?: $resource.username }}">
	<div class="contentRow {{ !$resource.isVisible() ? 'is-deleted' : '' }}">
		<span class="contentRow-figure">
			<xf:avatar user="{$resource.User}" size="s" defaultname="{$resource.username}" />
		</span>
		<div class="contentRow-main">
			<h3 class="contentRow-title">
				<a href="{{ link('resources', $resource) }}">{{ prefix('resource', $resource) }}{{ highlight($resource.title, $options.term) }}</a>
				<xf:if is="$resource.isVersioned()">
					<span class="u-muted">{$resource.CurrentVersion.version_string}</span>
				</xf:if>
			</h3>

			<div class="contentRow-snippet">{{ snippet($resource.Description.message, 300, {'term': $options.term, 'stripQuote': true}) }}</div>

			<div class="contentRow-minor contentRow-minor--hideLinks">
				<ul class="listInline listInline--bullet">
					<xf:if is="$options.mod == 'resource' && $resource.canUseInlineModeration()">
						<li><xf:checkbox standalone="true"><xf:option value="{$resource.resource_id}" class="js-inlineModToggle" /></xf:checkbox></li>
					</xf:if>
					<li><xf:username user="{$resource.User}" defaultname="{$resource.username}" /></li>
					<li>{{ phrase('xfrm_resource') }}</li>
					<li><xf:date time="{$resource.resource_date}" /></li>
					<li>{{ phrase('category:') }} <a href="{{ link('resources/categories', $resource.Category) }}">{$resource.Category.title}</a></li>
				</ul>
			</div>
		</div>
	</div>
</li>]]></template>
  <template type="public" title="search_result_resource_update" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<li class="block-row block-row--separated {{ $resource.isIgnored() ? 'is-ignored' : '' }} js-inlineModContainer" data-author="{{ $resource.User.username ?: $resource.username }}">
	<div class="contentRow {{ !$update.isVisible() ? 'is-deleted' : '' }}">
		<span class="contentRow-figure">
			<xf:avatar user="{$resource.User}" size="s" defaultname="{$resource.username}" />
		</span>
		<div class="contentRow-main">
			<h3 class="contentRow-title">
				<a href="{{ link('resources/update', $update) }}">{{ prefix('resource', $resource) }}{$resource.title} - {{ highlight($update.title, $options.term) }}</a>
			</h3>

			<div class="contentRow-snippet">{{ snippet($update.message, 300, {'term': $options.term, 'stripQuote': true}) }}</div>

			<div class="contentRow-minor contentRow-minor--hideLinks">
				<ul class="listInline listInline--bullet">
					<li><xf:username user="{$resource.User}" defaultname="{$resource.username}" /></li>
					<li>{{ phrase('xfrm_resource_update') }}</li>
					<li><xf:date time="{$update.post_date}" /></li>
					<li>{{ phrase('category:') }} <a href="{{ link('resources/categories', $resource.Category) }}">{$resource.Category.title}</a></li>
				</ul>
			</div>
		</div>
	</div>
</li>]]></template>
  <template type="public" title="watched_resources_manage" version_id="2000036" version_string="2.0.0 Beta 6"><![CDATA[<xf:title>{{ phrase('manage_watched_resources') }}</xf:title>

<xf:form action="{{ link('watched/resources/manage', null, {'state': $state}) }}" class="block" ajax="true">
	<div class="block-container">
		<div class="block-row">
			<xf:inforow rowtype="confirm">
				<xf:if is="$state == 'delete'">
					{{ phrase('you_sure_you_want_to_stop_watching_all_resources') }}
				<xf:else />
					{{ phrase('you_sure_you_want_to_update_notification_settings_for_all_resources') }}
				</xf:if>
			</xf:inforow>
		</div>
		<xf:submitrow submit="{{ phrase('confirm') }}" icon="notificationsOff" rowtype="simple" />
	</div>
</xf:form>]]></template>
  <template type="admin" title="widget_def_options_xfrm_latest_reviews" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<hr class="formRowSep" />

<xf:numberboxrow name="options[limit]" value="{$options.limit}" min="1"
	label="{{ phrase('maximum_entries') }}" />]]></template>
  <template type="admin" title="widget_def_options_xfrm_new_resources" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<hr class="formRowSep" />

<xf:numberboxrow name="options[limit]" value="{$options.limit}" min="1"
	label="{{ phrase('maximum_entries') }}" />

<xf:radiorow name="options[style]" value="{{ $options.style ?: 'simple' }}"
	label="{{ phrase('display_style') }}">

	<xf:option value="simple"
		label="{{ phrase('simple') }}"
		hint="{{ phrase('widget_display_simple_explain') }}" />
	<xf:option value="full"
		label="{{ phrase('full') }}"
		hint="{{ phrase('xfrm_full_size_view_displaying_as_standard_resource_list') }}" />
</xf:radiorow>

<xf:selectrow name="options[resource_category_ids][]" value="{{ $options.resource_category_ids ?: 0 }}" multiple="multiple" size="7"
	label="{{ phrase('xfrm_category_limit') }}">

	<xf:option value="0">{{ phrase('all_categories') }}</xf:option>
	<xf:foreach loop="$categoryTree.getFlattened(0)" value="$treeEntry">
		<xf:option value="{$treeEntry.record.resource_category_id}">
			{{ repeat('&nbsp;&nbsp;', $treeEntry.depth)|raw }}{$treeEntry.record.title}
		</xf:option>
	</xf:foreach>
</xf:selectrow>]]></template>
  <template type="admin" title="widget_def_options_xfrm_top_resources" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<hr class="formRowSep" />

<xf:numberboxrow name="options[limit]" value="{$options.limit}" min="1"
	label="{{ phrase('maximum_entries') }}" />

<xf:radiorow name="options[style]" value="{{ $options.style ?: 'simple' }}"
	label="{{ phrase('display_style') }}">

	<xf:option value="simple"
		label="{{ phrase('simple') }}"
		hint="{{ phrase('widget_display_simple_explain') }}" />
	<xf:option value="full"
		label="{{ phrase('full') }}"
		hint="{{ phrase('xfrm_full_size_view_displaying_as_standard_resource_list') }}" />
</xf:radiorow>

<xf:selectrow name="options[resource_category_ids][]" value="{{ $options.resource_category_ids ?: 0 }}" multiple="multiple" size="7"
	label="{{ phrase('xfrm_category_limit') }}">

	<xf:option value="0">{{ phrase('xfrm_all_categories_or_contextual_category') }}</xf:option>
	<xf:foreach loop="$categoryTree.getFlattened(0)" value="$treeEntry">
		<xf:option value="{$treeEntry.record.resource_category_id}">
			{{ repeat('&nbsp;&nbsp;', $treeEntry.depth)|raw }}{$treeEntry.record.title}
		</xf:option>
	</xf:foreach>
	<xf:explain>{{ phrase('xfrm_all_categories_or_contextual_explain') }}</xf:explain>
</xf:selectrow>]]></template>
  <template type="public" title="xfrm.less" version_id="2000036" version_string="2.0.0 Beta 6"><![CDATA[// ############################ RESOURCE LIST ######################

.structItem-resourceTagLine
{
	font-size: @xf-fontSizeSmaller;
	margin-top: @xf-paddingSmall;
}

.structItem-cell.structItem-cell--resourceMeta
{
	width: 210px;
}

.structItem-metaItem--rating
{
	font-size: @xf-fontSizeSmall;
}

@media (max-width: @xf-responsiveWide)
{
	.structItem-cell.structItem-cell--resourceMeta
	{
		width: 190px;
		font-size: @xf-fontSizeSmaller;
	}
}

@media (max-width: @xf-responsiveMedium)
{
	.structItem-cell.structItem-cell--resourceMeta
	{
		display: block;
		width: auto;
		float: left;
		padding-top: 0;
		padding-left: 0;
		padding-right: 0;
		color: @xf-textColorMuted;

		.pairs
		{
			display: inline;

			&:before,
			&:after
			{
				display: none;
			}

			> dt,
			> dd
			{
				display: inline;
				float: none;
				margin: 0;
			}
		}

		.structItem-metaItem
		{
			display: inline;
		}

		.ratingStarsRow
		{
			display: inline;

			.ratingStarsRow-text
			{
				display: none;
			}
		}

		.structItem-metaItem--lastUpdate > dt
		{
			display: none;
		}

		.structItem-metaItem + .structItem-metaItem:before
		{
			display: inline;
			content: "\20\00B7\20";
			color: @xf-textColorMuted;
		}
	}
}

// #################################### RESOURCE BODY / VIEW ########################

.resourceBody
{
	display: flex;
}

.resourceBody-main
{
	flex: 1;
	min-width: 0;
	padding: @xf-blockPaddingV @xf-blockPaddingH;
}

.resourceBody-sidebar
{
	flex: 0 0 auto;
	width: 250px;
	.xf-contentAltBase();
	border-left: @xf-borderSize solid @xf-borderColor;
	padding: @xf-blockPaddingV @xf-blockPaddingH;
	font-size: @xf-fontSizeSmall;

	> :first-child
	{
		margin-top: 0;
	}

	> :last-child
	{
		margin-bottom: 0;
	}
}

.resourceBody-fields
{
	&.resourceBody-fields--before
	{
		margin-bottom: @xf-paddingLarge;
		padding-bottom: @xf-paddingMedium;
		border-bottom: @xf-borderSize solid @xf-borderColorLight;
	}

	&.resourceBody-fields--after
	{
		margin-top: @xf-paddingLarge;
		padding-top: @xf-paddingMedium;
		border-top: @xf-borderSize solid @xf-borderColorLight;
	}
}

.resourceBody-attachments
{
	margin: .5em 0;
}

.resourceBody .actionBar-set
{
	margin-top: @xf-messagePadding;
	font-size: @xf-fontSizeSmall;
}

.resourceSidebarGroup
{
	margin-bottom: @xf-elementSpacer;

	&.resourceSidebarGroup--buttons
	{
		> .button
		{
			display: block;
			margin: 5px 0;

			&:first-child
			{
				margin-top: 0;
			}

			&:last-child
			{
				margin-bottom: 0;
			}
		}
	}
}

.resourceSidebarGroup-title
{
	margin: 0;
	padding: 0;

	font-size: @xf-fontSizeLarge;
	font-weight: @xf-fontWeightNormal;
	color: @xf-textColorFeature;
	padding-bottom: @xf-paddingMedium;

	.m-hiddenLinks();
}

.resourceSidebarList
{
	.m-listPlain();

	> li
	{
		padding: @xf-paddingSmall 0;

		&:first-child
		{
			padding-top: 0;
		}

		&:last-child
		{
			padding-bottom: 0;
		}
	}
}

@media (max-width: @xf-responsiveWide)
{
	.resourceBody
	{
		display: block;
	}

	.resourceBody-sidebar
	{
		width: auto;
		border-left: none;
		border-top: @xf-borderSize solid @xf-borderColor;
	}

	.resourceSidebarGroup
	{
		max-width: 600px;
		margin-left: auto;
		margin-right: auto;
	}
}]]></template>
  <template type="public" title="xfrm_author_view" version_id="2000034" version_string="2.0.0 Beta 4"><![CDATA[<xf:title page="{$page}">{{ phrase('xfrm_resources_by_x', {'name': $user.username}) }}</xf:title>

<xf:pageaction if="$user.user_id == $xf.visitor.user_id AND $xf.visitor.canAddResource()">
	<xf:button href="{{ link('resources/add') }}" class="button--cta" icon="write" overlay="true">{{ phrase('xfrm_add_resource...') }}</xf:button>
</xf:pageaction>

<xf:if is="$canInlineMod">
	<xf:js src="xf/inline_mod.js" min="1" />
</xf:if>

<xf:if is="$resources is not empty">
	<div class="block" data-xf-init="{{ $canInlineMod ? 'inline-mod' : '' }}" data-type="resource" data-href="{{ link('inline-mod') }}">
		<div class="block-outer"><xf:trim>

			<xf:pagenav page="{$page}" perpage="{$perPage}" total="{$total}"
				link="resources/authors" data="{$user}"
				wrapperclass="block-outer-main" />

			<xf:if contentcheck="true">
				<div class="block-outer-opposite">
					<div class="buttonGroup">
						<xf:contentcheck>
							<xf:if is="$canInlineMod">
								<xf:macro template="inline_mod_macros" name="button" />
							</xf:if>
						</xf:contentcheck>
					</div>
				</div>
			</xf:if>

		</xf:trim></div>

		<div class="block-container">
			<div class="block-body">
				<div class="structItemContainer">
					<xf:foreach loop="$resources" value="$resource">
						<xf:macro template="xfrm_resource_list_macros" name="resource"
							arg-resource="{$resource}" />
					</xf:foreach>
				</div>
			</div>
		</div>

		<div class="block-outer block-outer--after">
			<xf:pagenav
				page="{$page}" perpage="{$perPage}" total="{$total}"
				link="resources/authors" data="{$user}"
				wrapperclass="block-outer-main" />

			<xf:showignored wrapperclass="block-outer-opposite" />
		</div>
	</div>
<xf:else />
	<div class="blockMessage">
		<xf:if is="$user.user_id == $xf.visitor.user_id">
			{{ phrase('xfrm_you_have_not_posted_any_resources_yet') }}
		<xf:else />
			{{ phrase('xfrm_x_has_not_posted_any_resources_yet', {'name': $user.username}) }}
		</xf:if>
	</div>
</xf:if>]]></template>
  <template type="public" title="xfrm_category_add_resource" version_id="2000270" version_string="2.0.2"><![CDATA[<xf:title>{{ phrase('xfrm_add_resource') }}</xf:title>

<xf:breadcrumb source="$category.getBreadcrumbs()" />

<xf:form action="{{ link('resources/categories/add', $category) }}" upload="true" ajax="true" class="block"
	draft="{{ link('resources/categories/draft', $category) }}"
	data-preview-url="{{ link('resources/categories/preview', $category) }}"
>
	<div class="block-container">
		<div class="block-body">
			<xf:macro template="xfrm_resource_edit_macros" name="title"
				arg-resource="{$resource}"
				arg-prefixes="{$prefixes}" />

			<xf:macro template="xfrm_resource_edit_macros" name="tag_line" arg-resource="{$resource}" />

			<xf:macro template="xfrm_resource_edit_macros" name="type"
				arg-currentType="{{ $category.draft_resource.resource_type ?: $category.getDefaultSelectedType() }}"
				arg-resource="{$resource}"
				arg-category="{$category}"
				arg-versionAttachData="{$versionAttachData}" />

			<xf:if is="$category.hasVersioningSupport()">
				<xf:textboxrow name="version_string" value="{$category.draft_resource.version_string}"
					label="{{ phrase('xfrm_version_number') }}" />
			</xf:if>

			<xf:if contentcheck="true">
				<hr class="formRowSep" />

				<xf:contentcheck>
					<xf:macro template="custom_fields_macros" name="custom_fields_edit"
						arg-type="resources"
						arg-set="{$resource.custom_fields}"
						arg-group="above_info"
						arg-editMode="{{ $resource.getFieldEditMode() }}"
						arg-onlyInclude="{$category.field_cache}" />
				</xf:contentcheck>
			</xf:if>

			<hr class="formRowSep" />

			<xf:macro template="xfrm_resource_edit_macros" name="description"
				arg-description="{$category.draft_resource.message}"
				arg-attachmentData="{$attachmentData}" />

			<xf:if is="$category.canEditTags()">
				<xf:tokeninputrow name="tags" value="{$category.draft_resource.tags}"
					href="{{ link('misc/tag-auto-complete') }}"
					min-length="{$xf.options.tagLength.min}"
					max-length="{$xf.options.tagLength.max}"
					max-tokens="{$xf.options.maxContentTags}"
					label="{{ phrase('tags') }}">

					<xf:explain>
						{{ phrase('multiple_tags_may_be_separated_by_commas') }}
						<xf:if is="$category.min_tags">
							{{ phrase('this_content_must_have_at_least_x_tags', {'min': $category.min_tags}) }}
						</xf:if>
					</xf:explain>
				</xf:tokeninputrow>
			</xf:if>

			<xf:if contentcheck="true">
				<hr class="formRowSep" />

				<xf:contentcheck>
					<xf:macro template="custom_fields_macros" name="custom_fields_edit_groups"
						arg-type="resources"
						arg-set="{$resource.custom_fields}"
						arg-groups="{{ ['below_info', 'extra_tab', 'new_tab'] }}"
						arg-editMode="{{ $resource.getFieldEditMode() }}"
						arg-onlyInclude="{$category.field_cache}" />
				</xf:contentcheck>
			</xf:if>

			<hr class="formRowSep" />

			<xf:macro template="xfrm_resource_edit_macros" name="external_url" arg-resource="{$resource}" />
			<xf:macro template="xfrm_resource_edit_macros" name="alt_support_url" arg-resource="{$resource}" />

			<xf:if contentcheck="true">
				<hr class="formRowSep" />

				<xf:contentcheck>
					<xf:macro template="xfrm_resource_edit_macros" name="resource_icon" arg-resource="{$resource}" />
				</xf:contentcheck>
			</xf:if>
		</div>
		<xf:submitrow icon="save" sticky="true" />
	</div>
</xf:form>]]></template>
  <template type="admin" title="xfrm_category_delete" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('confirm_action') }}</xf:title>

<xf:macro template="category_tree_macros" name="category_delete_form"
	arg-linkPrefix="resource-manager/categories"
	arg-category="{$category}" />]]></template>
  <template type="admin" title="xfrm_category_edit" version_id="2000052" version_string="2.0.0 Release Candidate 2"><![CDATA[<xf:if is="$category.isInsert()">
	<xf:title>{{ phrase('add_category') }}</xf:title>
<xf:else />
	<xf:title>{{ phrase('edit_category:') }} {$category.title}</xf:title>
</xf:if>

<xf:pageaction if="$category.isUpdate()">
	<xf:button href="{{ link('resource-manager/categories/delete', $category) }}" icon="delete" overlay="true" />
</xf:pageaction>

<xf:form action="{{ link('resource-manager/categories/save', $category) }}" class="block" ajax="true">
	<div class="block-container">
		<div class="block-body">
			<xf:textboxrow name="title" value="{$category.title}"
				label="{{ phrase('title') }}" />

			<xf:textarearow name="description" value="{$category.description}" autosize="true"
				label="{{ phrase('description') }}"
				explain="{{ phrase('you_may_use_html') }}" />

			<xf:macro template="category_tree_macros" name="parent_category_select_row"
				arg-category="{$category}"
				arg-categoryTree="{$categoryTree}"
				arg-idKey="resource_category_id" />

			<xf:macro template="display_order_macros" name="row"
				arg-value="{$category.display_order}" />

			<xf:checkboxrow
				label="{{ phrase('xfrm_allowed_resource_types') }}"
				explain="{{ phrase('xfrm_if_no_resource_types_selected_category_maintain_hierarchy') }}">

				<xf:option name="allow_local" selected="$category.allow_local">{{ phrase('xfrm_uploaded_file') }}</xf:option>
				<xf:option name="allow_external" selected="$category.allow_external">{{ phrase('xfrm_external_download') }}</xf:option>
				<xf:option name="allow_commercial_external" selected="$category.allow_commercial_external">{{ phrase('xfrm_external_purchase') }}</xf:option>
				<xf:option name="allow_fileless" selected="$category.allow_fileless">{{ phrase('xfrm_fileless') }}</xf:option>
			</xf:checkboxrow>

			<xf:checkboxrow>
				<xf:option name="enable_versioning" selected="$category.enable_versioning"
					label="{{ phrase('xfrm_enable_versioning') }}"
					hint="{{ phrase('xfrm_if_enabled_users_prompted_enter_version_history_displayed') }}"
				/>
			</xf:checkboxrow>

			<xf:checkboxrow>
				<xf:option name="always_moderate_create" selected="$category.always_moderate_create">
					{{ phrase('xfrm_always_moderate_resources_posted_in_this_category') }}
				</xf:option>
				<xf:option name="always_moderate_update" selected="$category.always_moderate_update">
					{{ phrase('xfrm_always_moderate_resource_updates_posted_in_this_category') }}
				</xf:option>
			</xf:checkboxrow>

			<xf:textboxrow name="min_tags" value="{$category.min_tags}" type="number" min="0" max="100"
				label="{{ phrase('minimum_required_tags') }}"
				explain="{{ phrase('xfrm_will_require_users_provide_at_least_tags_when_creating_resource') }}" />

			<xf:selectrow name="thread_node_id" value="{$category.thread_node_id}" id="js-rmThreadNodeList"
				label="{{ phrase('xfrm_automatically_create_thread_in_forum') }}"
				explain="{{ phrase('xfrm_if_selected_resource_in_category_created_thread_posted_forum') }}">

				<xf:option value="0">{{ phrase('(none)') }}</xf:option>
				<xf:foreach loop="$forumOptions" value="$forum">
					<xf:option value="{$forum.value}" disabled="{$forum.disabled}" label="{$forum.label}" />
				</xf:foreach>
			</xf:selectrow>

			<xf:formrow label="{{ phrase('xfrm_automatically_created_thread_prefix') }}" rowtype="input">
				<xf:js src="xf/prefix_menu.js" min="1" />
				<xf:macro template="public:prefix_macros" name="select"
					arg-type="thread"
					arg-prefixes="{$threadPrefixes}"
					arg-selected="{$category.thread_prefix_id}"
					arg-name="thread_prefix_id"
					arg-href="{{ link('forums/prefixes') }}"
					arg-listenTo="#js-rmThreadNodeList" />
			</xf:formrow>

			<xf:if is="$availableFields is not empty">
				<hr class="formRowSep" />

				<xf:checkboxrow name="available_fields" value="{$category.field_cache}" listclass="field listColumns"
					label="{{ phrase('available_fields') }}">

					<xf:options source="$availableFields" />
					<xf:hint>
						<xf:checkbox standalone="true">
							<xf:option check-all=".field.listColumns">{{ phrase('select_all') }}</xf:option>
						</xf:checkbox>
					</xf:hint>
				</xf:checkboxrow>
			<xf:else />
				<hr class="formRowSep" />

				<xf:formrow label="{{ phrase('available_fields') }}">
					{{ phrase('none')|parens }} <a href="{{ link('resource-manager/fields') }}" target="_blank">{{ phrase('add_field') }}</a>
				</xf:formrow>
			</xf:if>

			<xf:if is="$availablePrefixes is not empty">
				<hr class="formRowSep" />

				<xf:checkboxrow name="available_prefixes" value="{$category.prefix_cache}" listclass="prefix listColumns"
					label="{{ phrase('available_prefixes') }}">

					<xf:options source="$availablePrefixes" />
					<xf:hint>
						<xf:checkbox standalone="true">
							<xf:option check-all=".prefix.listColumns">{{ phrase('select_all') }}</xf:option>
						</xf:checkbox>
					</xf:hint>
				</xf:checkboxrow>

				<xf:checkboxrow name="require_prefix" value="{$category.require_prefix}">
					<xf:option value="1"
						label="{{ phrase('require_users_to_select_prefix') }}"
						hint="{{ phrase('xfrm_if_selected_users_required_select_prefix_when_creating_editing') }}" />
				</xf:checkboxrow>

			<xf:else />

				<hr class="formRowSep" />

				<xf:formrow label="{{ phrase('available_prefixes') }}">
					{{ phrase('none')|parens }} <a href="{{ link('resource-manager/prefixes') }}" target="_blank">{{ phrase('add_prefix') }}</a>
				</xf:formrow>

			</xf:if>
		</div>
		<xf:submitrow icon="save" sticky="true" />
	</div>
</xf:form>]]></template>
  <template type="admin" title="xfrm_category_list" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('xfrm_resource_categories') }}</xf:title>

<xf:macro template="category_tree_macros" name="page_action"
	arg-linkPrefix="resource-manager/categories" />

<xf:macro template="category_tree_macros" name="category_list"
	arg-categoryTree="{$categoryTree}"
	arg-filterKey="xfrm-categories"
	arg-linkPrefix="resource-manager/categories"
	arg-idKey="resource_category_id"
/>]]></template>
  <template type="public" title="xfrm_category_list_macros" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:macro name="simple_category_list"
	arg-selected="0"
	arg-pathToSelected="{{ [] }}"
	arg-children="!"
	arg-extras="!"
	arg-isActive="{{ false }}"
>
	<ol class="categoryList toggleTarget{{ $isActive ? ' is-active' : '' }}">
		<xf:foreach loop="$children" key="$id" value="$child">
			<xf:macro name="simple_category_list_item"
				arg-selected="{$selected}"
				arg-pathToSelected="{$pathToSelected}"
				arg-category="{$child.record}"
				arg-extras="{$extras.{$id}}"
				arg-children="{$child}"
				arg-childExtras="{$extras}"
			/>
		</xf:foreach>
	</ol>
</xf:macro>

<xf:macro name="simple_category_list_item"
	arg-selected="!"
	arg-pathToSelected="{{ [] }}"
	arg-category="!"
	arg-extras="!"
	arg-children="!"
	arg-childExtras="!"
>
	<xf:set var="$isSelected" value="{{ $category.resource_category_id == $selected }}" />
	<xf:set var="$hasPathToSelected" value="{$pathToSelected.{$category.resource_category_id}}" />
	<xf:set var="$isActive" value="{{ $isSelected OR $hasPathToSelected AND $children is not empty }}" />

	<li class="categoryList-item">
		<div class="categoryList-itemRow">
			<xf:if is="$children is not empty">
				<a class="categoryList-toggler{{ $isActive ? ' is-active' : '' }}"
					data-xf-click="toggle" data-target="< :up :next"
					role="button" tabindex="0" aria-label="{{ phrase('toggle_expanded') }}"
				></a>
			<xf:else />
				<span class="categoryList-togglerSpacer"></span>
			</xf:if>
			<a href="{{ link('resources/categories', $category) }}" class="categoryList-link{{ $isSelected ? ' is-selected' : '' }}">
				{$category.title}
			</a>
			<span class="categoryList-label">
				<span class="label label--subtle label--smallest">{$extras.resource_count|number_short}</span>
			</span>
		</div>
		<xf:if is="$children is not empty">
			<xf:macro name="simple_category_list"
				arg-selected="{$selected}"
				arg-pathToSelected="{$pathToSelected}"
				arg-children="{$children}"
				arg-extras="{$childExtras}"
				arg-isActive="{$isActive}"
			/>
		</xf:if>
	</li>
</xf:macro>

<xf:macro name="simple_list_block" arg-categoryTree="!" arg-categoryExtras="!" arg-selected="{{ 0 }}">
	<div class="block">
		<div class="block-container">
			<h3 class="block-header">{{ phrase('categories') }}</h3>
			<div class="block-body">
				<xf:if is="$categoryTree.count()">
					<xf:macro name="simple_category_list"
						arg-children="{$categoryTree}"
						arg-extras="{$categoryExtras}"
						arg-isActive="{{ true }}"
						arg-selected="{$selected}"
						arg-pathToSelected="{{ $selected ? $categoryTree.getPathTo($selected) : [] }}" />
				<xf:else />
					<div class="block-row">{{ phrase('n_a') }}</div>
				</xf:if>
			</div>
		</div>
	</div>
</xf:macro>

<xf:macro name="category"
	arg-category="!"
	arg-extras="!"
	arg-children="!"
	arg-childExtras="!"
	arg-chooseName=""
	arg-bonusInfo="">
	
	<div class="node node--depth2 node--resourceCategory node--resourceCategory{$category.resource_category_id}">
		<div class="node-body">
			<div class="node-main js-nodeMain">
				<xf:if is="$chooseName">
					<xf:checkbox standalone="true">
						<xf:option labelclass="u-pullRight" class="js-chooseItem" name="{$chooseName}[]" value="{$category.resource_category_id}" />
					</xf:checkbox>
				</xf:if>

				<xf:set var="$descriptionDisplay" value="{{ property('nodeListDescriptionDisplay') }}" />
				<h3 class="node-title">
					<a href="{{ link('resources/categories', $category) }}" data-xf-init="{{ $descriptionDisplay == 'tooltip' ? 'element-tooltip' : '' }}" data-shortcut="node-description">{$category.title}</a>
				</h3>
				<xf:if is="$descriptionDisplay != 'none' && $category.description">
					<div class="node-description {{ $descriptionDisplay == 'tooltip' ? 'node-description--tooltip js-nodeDescTooltip' : '' }}">{$category.description|raw}</div>
				</xf:if>

				<div class="node-meta">
					<div class="node-statsMeta">
						<dl class="pairs pairs--inline">
							<dt>{{ phrase('xfrm_resources') }}</dt>
							<dd>{$extras.resource_count|number}</dd>
						</dl>
					</div>
				</div>

				<xf:if is="$bonusInfo is not empty">
					<div class="node-bonus">{$bonusInfo}</div>
				</xf:if>
			</div>

			<div class="node-stats node-stats--single">
				<dl class="pairs pairs--rows">
					<dt>{{ phrase('xfrm_resources') }}</dt>
					<dd>{$extras.resource_count|number}</dd>
				</dl>
			</div>

			<div class="node-extra">
				<xf:if is="{$extras.last_update}">
					<div class="node-extra-row"><a href="{{ link('resources', {'resource_id': $extras.last_resource_id}) }}" class="node-extra-title" title="{$extras.last_resource_title}">{$extras.last_resource_title}</a></div>
					<div class="node-extra-row">
						<xf:date time="{$extras.last_update}" class="node-extra-date" />
					</div>
				<xf:else />
					<span class="node-extra-placeholder">{{ phrase('none') }}</span>
				</xf:if>
			</div>
		</div>
	</div>
	
</xf:macro>]]></template>
  <template type="admin" title="xfrm_category_permission_edit" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:if is="$userGroup">
	<xf:title>{$userGroup.title}</xf:title>
<xf:else />
	<xf:title>{$user.username}</xf:title>
</xf:if>

<xf:breadcrumb href="{{ link('resource-manager/categories/permissions', $record) }}">{{ phrase('permissions:') }} {$record.title}</xf:breadcrumb>

<xf:macro template="permission_category_macros" name="edit"
	arg-category="{$record}"
	arg-permissionData="{$permissionData}"
	arg-typeEntries="{$typeEntries}"
	arg-routeBase="resource-manager/categories/permissions"
	arg-saveParams="{$saveParams}" />
]]></template>
  <template type="admin" title="xfrm_category_permission_list" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('permissions:') }} {$record.title}</xf:title>

<xf:macro template="permission_category_macros" name="list"
	arg-category="{$record}"
	arg-isPrivate="{$isPrivate}"
	arg-userGroups="{$userGroups}"
	arg-users="{$users}"
	arg-entries="{$entries}"
	arg-routeBase="resource-manager/categories/permissions" />
]]></template>
  <template type="public" title="xfrm_category_prefixes" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:macro template="prefix_macros" name="select"
	arg-name="na"
	arg-prefixes="{$prefixes}"
	arg-type="resource" />
]]></template>
  <template type="admin" title="xfrm_category_sort" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('sort_categories') }}</xf:title>

<xf:macro template="category_tree_macros" name="sortable_form"
	arg-categoryTree="{$categoryTree}"
	arg-linkPrefix="resource-manager/categories" />]]></template>
  <template type="public" title="xfrm_category_view" version_id="2000038" version_string="2.0.0 Beta 8"><![CDATA[<xf:title page="{$page}">{$category.title}</xf:title>
<xf:description>{$category.description|raw}</xf:description>

<xf:macro template="metadata_macros" name="canonical_url"
	arg-canonicalUrl="{{ link('canonical:resources/categories', $category, {'page': $page}) }}" />

<xf:breadcrumb source="$category.getBreadcrumbs(false)" />

<xf:macro template="xfrm_resource_page_macros" name="resource_page_options"
	arg-category="{$category}" />

<xf:pageaction if="$category.canAddResource()">
	<xf:button href="{{ link('resources/categories/add', $category) }}" class="button--cta" icon="write">{{ phrase('xfrm_add_resource') }}</xf:button>
</xf:pageaction>

<xf:if is="$pendingApproval">
	<div class="blockMessage blockMessage--important">{{ phrase('content_submitted_displayed_pending_approval') }}</div>
</xf:if>

<xf:macro template="xfrm_overview_macros" name="featured_carousel"
	arg-featuredResources="{$featuredResources}"
	arg-viewAllLink="{{ link('resources/categories/featured', $category) }}" />

<xf:if is="$canInlineMod">
	<xf:js src="xf/inline_mod.js" min="1" />
</xf:if>

<div class="block" data-xf-init="{{ $canInlineMod ? 'inline-mod' : '' }}" data-type="resource" data-href="{{ link('inline-mod') }}">
	<div class="block-outer"><xf:trim>

		<xf:pagenav page="{$page}" perpage="{$perPage}" total="{$total}"
			link="resources/categories" data="{$category}" params="{$filters}"
			wrapperclass="block-outer-main" />

		<xf:if contentcheck="true">
			<div class="block-outer-opposite">
				<div class="buttonGroup">
					<xf:contentcheck>
						<xf:if is="$canInlineMod">
							<xf:macro template="inline_mod_macros" name="button" />
						</xf:if>
						<xf:if is="$category.canWatch()">
							<xf:button href="{{ link('resources/categories/watch', $category) }}" class="button--link"
								data-xf-click="switch-overlay"
								data-sk-watch="{{ phrase('watch') }}"
								data-sk-unwatch="{{ phrase('unwatch') }}">
								<xf:if is="{$category.Watch.{$xf.visitor.user_id}}">{{ phrase('unwatch') }}<xf:else />{{ phrase('watch') }}</xf:if>
							</xf:button>
						</xf:if>
					</xf:contentcheck>
				</div>
			</div>
		</xf:if>

	</xf:trim></div>

	<div class="block-container">
		<xf:macro template="xfrm_overview_macros" name="list_filter_bar"
			arg-filters="{$filters}"
			arg-baseLinkPath="resources/categories"
			arg-category="{$category}"
			arg-creatorFilter="{$creatorFilter}" />

		<div class="block-body">
			<xf:if is="$resources is not empty">
				<div class="structItemContainer">
					<xf:foreach loop="$resources" value="$resource">
						<xf:macro template="xfrm_resource_list_macros" name="resource"
							arg-resource="{$resource}"
							arg-category="{$category}" />
					</xf:foreach>
				</div>
			<xf:elseif is="$filters" />
				<div class="block-row">{{ phrase('xfrm_there_no_resources_matching_your_filters') }}</div>
			<xf:else />
				<div class="block-row">{{ phrase('xfrm_no_resources_have_been_created_yet') }}</div>
			</xf:if>
		</div>
	</div>

	<div class="block-outer block-outer--after">
		<xf:pagenav
			page="{$page}" perpage="{$perPage}" total="{$total}"
			link="resources/categories" data="{$category}" params="{$filters}"
			wrapperclass="block-outer-main" />
		<xf:showignored wrapperclass="block-outer-opposite" />
	</div>
</div>

<xf:page option="sideNavTitle">{{ phrase('categories') }}</xf:page>
<xf:sidenav>
	<xf:macro template="xfrm_category_list_macros" name="simple_list_block"
		arg-categoryTree="{$categoryTree}"
		arg-categoryExtras="{$categoryExtras}"
		arg-selected="{$category.resource_category_id}" />
</xf:sidenav>

<xf:widgetpos id="xfrm_category_sidenav" position="sidenav" context-category="{$category}" />]]></template>
  <template type="public" title="xfrm_category_watch" version_id="2000036" version_string="2.0.0 Beta 6"><![CDATA[<xf:if is="$isWatched">
	<xf:title>{{ phrase('unwatch_category') }}</xf:title>
<xf:else />
	<xf:title>{{ phrase('watch_category') }}</xf:title>
</xf:if>

<xf:breadcrumb source="{$category.getBreadcrumbs()}" />

<xf:form action="{{ link('resources/categories/watch', $category) }}" class="block" ajax="true">
	<div class="block-container">
		<div class="block-body">
			<xf:if is="$isWatched">
				<xf:inforow rowtype="confirm">
					{{ phrase('you_sure_you_want_to_unwatch_this_category') }}
				</xf:inforow>
				<xf:hiddenval name="stop">1</xf:hiddenval>
			<xf:else />
				<xf:radiorow name="notify_on" value="resource"
					label="{{ phrase('send_notifications_for') }}">

					<xf:option value="resource">{{ phrase('xfrm_new_resources_only') }}</xf:option>
					<xf:option value="update">{{ phrase('xfrm_new_resources_and_updates') }}</xf:option>
					<xf:option value="">{{ phrase('dont_send_notifications') }}</xf:option>
				</xf:radiorow>

				<xf:checkboxrow label="{{ phrase('send_notifications_via') }}">
					<xf:option name="send_alert" value="1" selected="true">{{ phrase('alerts') }}</xf:option>
					<xf:option name="send_email" value="1">{{ phrase('emails') }}</xf:option>
				</xf:checkboxrow>

				<xf:checkboxrow>
					<xf:option name="include_children" selected="true">{{ phrase('include_notifications_for_content_in_sub_categories') }}</xf:option>
				</xf:checkboxrow>
			</xf:if>
		</div>
		<xf:if is="$isWatched">
			<xf:submitrow submit="{{ phrase('unwatch') }}" rowtype="simple" icon="notificationsOff" />
		<xf:else />
			<xf:submitrow submit="{{ phrase('watch') }}" icon="notificationsOn" />
		</xf:if>
	</div>
</xf:form>]]></template>
  <template type="public" title="xfrm_featured" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:if is="$category">
	<xf:title>{{ phrase('xfrm_featured_resources') }} - {$category.title}</xf:title>
	<xf:h1>{{ phrase('xfrm_featured_resources') }}</xf:h1>
	<xf:breadcrumb source="{$category.getBreadcrumbs()}" />
<xf:else />
	<xf:title>{{ phrase('xfrm_featured_resources') }}</xf:title>
</xf:if>

<xf:if is="$canInlineMod">
	<xf:js src="xf/inline_mod.js" min="1" />
</xf:if>

<div class="block" data-xf-init="{{ $canInlineMod ? 'inline-mod' : '' }}" data-type="resource" data-href="{{ link('inline-mod') }}">
	<div class="block-outer"><xf:trim>

		<xf:if contentcheck="true">
			<div class="block-outer-opposite">
				<div class="buttonGroup">
					<xf:contentcheck>
						<xf:if is="$canInlineMod">
							<xf:macro template="inline_mod_macros" name="button" />
						</xf:if>
					</xf:contentcheck>
				</div>
			</div>
		</xf:if>

	</xf:trim></div>

	<div class="block-container">
		<div class="block-body">
			<xf:if is="$resources is not empty">
				<div class="structItemContainer">
					<xf:foreach loop="$resources" value="$resource">
						<xf:macro template="xfrm_resource_list_macros" name="resource"
							arg-resource="{$resource}" />
					</xf:foreach>
				</div>
			<xf:else />
				<div class="block-row">{{ phrase('xfrm_no_resources_have_been_featured_yet') }}</div>
			</xf:if>
		</div>
	</div>
	<div class="block-outer block-outer--after">
		<xf:showignored wrapperclass="block-outer-opposite" />
	</div>
</div>]]></template>
  <template type="public" title="xfrm_filters" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:form action="{{ link($category ? 'resources/categories/filters' : 'resources/filters', $category) }}">
	<!--[XF:above_type]-->
	<xf:if is="$showTypeFilters">
		<div class="menu-row menu-row--separated">
			{{ phrase('type:') }}
			<div class="u-inputSpacer">
				<xf:select name="type" value="{$filters.type}">
					<xf:option value="">{{ phrase('any') }}</xf:option>
					<xf:option value="free">{{ phrase('xfrm_free') }}</xf:option>
					<xf:option value="paid">{{ phrase('xfrm_paid') }}</xf:option>
				</xf:select>
			</div>
		</div>
	</xf:if>

	<!--[XF:above_prefixes]-->
	<xf:if is="$prefixesGrouped is not empty">
		<div class="menu-row menu-row--separated">
			{{ phrase('prefix:') }}
			<div class="u-inputSpacer">
				<xf:macro template="prefix_macros" name="select"
					arg-prefixes="{$prefixesGrouped}"
					arg-type="resource"
					arg-selected="{{ $filters.prefix_id ?: 0 }}"
					arg-name="prefix_id"
					arg-noneLabel="{{ phrase('(any)') }}"
				/>
			</div>
		</div>
	</xf:if>

	<!--[XF:above_created_by]-->
	<div class="menu-row menu-row--separated">
		{{ phrase('created_by:') }}
		<div class="u-inputSpacer">
			<xf:textbox name="creator" value="{{ $creatorFilter ? $creatorFilter.username : '' }}" ac="single" />
		</div>
	</div>

	<!--[XF:above_sort_by]-->
	<div class="menu-row menu-row--separated">
		{{ phrase('sort_by:') }}
		<div class="inputGroup u-inputSpacer">
			<xf:select name="order" value="{{ $filters.order ?: $xf.options.xfrmListDefaultOrder }}">
				<xf:option value="last_update">{{ phrase('xfrm_last_update') }}</xf:option>
				<xf:option value="resource_date">{{ phrase('xfrm_submission_date') }}</xf:option>
				<xf:option value="rating_weighted">{{ phrase('rating') }}</xf:option>
				<xf:option value="download_count">{{ phrase('xfrm_downloads') }}</xf:option>
				<xf:option value="title">{{ phrase('title') }}</xf:option>
			</xf:select>
			<span class="inputGroup-splitter"></span>
			<xf:select name="direction" value="{{ $filters.direction ?: 'desc' }}">
				<xf:option value="desc">{{ phrase('descending') }}</xf:option>
				<xf:option value="asc">{{ phrase('ascending') }}</xf:option>
			</xf:select>
		</div>
	</div>

	<div class="menu-footer">
		<span class="menu-footer-controls">
			<xf:button type="submit" class="button--primary">{{ phrase('filter') }}</xf:button>
		</span>
	</div>
	<xf:hiddenval name="apply">1</xf:hiddenval>
</xf:form>]]></template>
  <template type="public" title="xfrm_latest_reviews" version_id="2000034" version_string="2.0.0 Beta 4"><![CDATA[<xf:title page="{$page}">{{ phrase('xfrm_latest_reviews') }}</xf:title>

<div class="block">
	<div class="block-outer"><xf:trim>

		<xf:pagenav page="{$page}" perpage="{$perPage}" total="{$total}"
			link="resources/latest-reviews"
			wrapperclass="block-outer-main" />

	</xf:trim></div>

	<div class="block-container">
		<div class="block-body">
			<xf:if is="$reviews is not empty">
				<div class="structItemContainer">
					<xf:foreach loop="$reviews" value="$review">
						<xf:macro template="xfrm_resource_review_macros" name="review"
							arg-review="{$review}"
							arg-resource="{$review.Resource}"
							arg-showResource="{{ true }}" />
					</xf:foreach>
				</div>
			<xf:else />
				<div class="block-row">{{ phrase('xfrm_no_reviews_have_been_left_recently') }}</div>
			</xf:if>
		</div>
	</div>

	<div class="block-outer block-outer--after">
		<xf:pagenav
			page="{$page}" perpage="{$perPage}" total="{$total}"
			link="resources/latest-reviews"
			wrapperclass="block-outer-main" />

		<xf:showignored wrapperclass="block-outer-opposite" />
	</div>
</div>]]></template>
  <template type="public" title="xfrm_overview" version_id="2000038" version_string="2.0.0 Beta 8"><![CDATA[<xf:title page="{$page}">{{ phrase('xfrm_resources') }}</xf:title>

<xf:macro template="metadata_macros" name="canonical_url"
	arg-canonicalUrl="{{ link('canonical:resources', null, {'page': $page}) }}" />

<xf:page option="searchConstraints" value="{{ {
	phrase('xfrm_resources'): {'search_type': 'resource'}
} }}" />

<xf:pageaction if="$xf.visitor.canAddResource()">
	<xf:button href="{{ link('resources/add') }}" class="button--cta" icon="write" overlay="true">{{ phrase('xfrm_add_resource...') }}</xf:button>
</xf:pageaction>

<xf:macro template="xfrm_overview_macros" name="featured_carousel"
	arg-featuredResources="{$featuredResources}"
	arg-viewAllLink="{{ link('resources/featured') }}" />

<xf:if is="$canInlineMod">
	<xf:js src="xf/inline_mod.js" min="1" />
</xf:if>

<div class="block" data-xf-init="{{ $canInlineMod ? 'inline-mod' : '' }}" data-type="resource" data-href="{{ link('inline-mod') }}">
	<div class="block-outer"><xf:trim>

		<xf:pagenav page="{$page}" perpage="{$perPage}" total="{$total}"
			link="resources" params="{$filters}"
			wrapperclass="block-outer-main" />

		<xf:if contentcheck="true">
			<div class="block-outer-opposite">
				<div class="buttonGroup">
				<xf:contentcheck>
					<xf:if is="$canInlineMod">
						<xf:macro template="inline_mod_macros" name="button" />
					</xf:if>
				</xf:contentcheck>
				</div>
			</div>
		</xf:if>

	</xf:trim></div>

	<div class="block-container">
		<xf:macro template="xfrm_overview_macros" name="list_filter_bar"
			arg-filters="{$filters}"
			arg-baseLinkPath="resources"
			arg-creatorFilter="{$creatorFilter}" />

		<div class="block-body">
			<xf:if is="$resources is not empty">
				<div class="structItemContainer">
					<xf:foreach loop="$resources" value="$resource">
						<xf:macro template="xfrm_resource_list_macros" name="resource"
							arg-resource="{$resource}" />
					</xf:foreach>
				</div>
			<xf:elseif is="$filters" />
				<div class="block-row">{{ phrase('xfrm_there_no_resources_matching_your_filters') }}</div>
			<xf:else />
				<div class="block-row">{{ phrase('xfrm_no_resources_have_been_created_yet') }}</div>
			</xf:if>
		</div>
	</div>

	<div class="block-outer block-outer--after">
		<xf:pagenav
			page="{$page}" perpage="{$perPage}" total="{$total}"
			link="resources" params="{$filters}"
			wrapperclass="block-outer-main" />
		<xf:showignored wrapperclass="block-outer-opposite" />
	</div>
</div>

<xf:page option="sideNavTitle">{{ phrase('categories') }}</xf:page>
<xf:sidenav>
	<xf:macro template="xfrm_category_list_macros" name="simple_list_block"
		arg-categoryTree="{$categoryTree}"
		arg-categoryExtras="{$categoryExtras}" />
</xf:sidenav>

<xf:widgetpos id="xfrm_overview_sidenav" position="sidenav" />]]></template>
  <template type="public" title="xfrm_overview_macros" version_id="2000038" version_string="2.0.0 Beta 8"><![CDATA[<xf:macro name="featured_carousel" arg-featuredResources="!" arg-viewAllLink="!">
	<xf:if is="$featuredResources is not empty">
		<xf:css src="carousel.less" />
		<xf:css src="lightslider.less" />

		<xf:js prod="xf/carousel-compiled.js" dev="vendor/lightslider/lightslider.min.js, xf/carousel.js" />

		<div class="carousel carousel--withFooter">
			<ul class="carousel-body carousel-body--show2" data-xf-init="carousel">
				<xf:foreach loop="$featuredResources" value="$resource">
					<li>
						<div class="carousel-item">
							<div class="contentRow">
								<div class="contentRow-figure">
									<xf:if is="$xf.options.xfrmAllowIcons">
										{{ resource_icon($resource, 'm', link('resources', $resource)) }}
									<xf:else />
										<xf:avatar user="$resource.User" size="m" notooltip="true" />
									</xf:if>
								</div>
								<div class="contentRow-main">
									<h4 class="contentRow-title"><a href="{{ link('resources', $resource) }}">{{ prefix('resource', $resource) }}{$resource.title}</a></h4>
									<div class="contentRow-lesser">{$resource.tag_line}</div>
									<div class="contentRow-minor contentRow-minor--smaller">
										<ul class="listInline listInline--bullet">
											<li>{{ $resource.User.username ?: $resource.username }}</li>
											<li>
												<xf:macro template="rating_macros" name="stars"
													arg-rating="{$resource.rating_avg}" />
											</li>
											<li>{{ phrase('updated:') }} <xf:date time="{$resource.last_update}" /></li>
										</ul>
									</div>
								</div>
							</div>
						</div>
					</li>
				</xf:foreach>
			</ul>
			<div class="carousel-footer">
				<a href="{$viewAllLink}">{{ phrase('xfrm_view_all_featured_resources') }}</a>
			</div>
		</div>
	</xf:if>
</xf:macro>

<xf:macro name="list_filter_bar" arg-filters="!" arg-baseLinkPath="!" arg-category="{{ null }}" arg-creatorFilter="{{ null }}">
	<xf:set var="$sortOrders" value="{{ {
		'last_update': phrase('xfrm_last_update'),
		'resource_date': phrase('xfrm_submission_date'),
		'rating_weighted': phrase('rating'),
		'download_count': phrase('xfrm_downloads'),
		'title': phrase('title')
	} }}" />

	<div class="block-filterBar">
		<div class="filterBar">
			<xf:if contentcheck="true">
				<ul class="filterBar-filters">
					<xf:contentcheck>
						<xf:if is="$filters.type">
							<li><a href="{{ link($baseLinkPath, $category, $filters|replace('type', null)) }}"
								class="filterBar-filterToggle" data-xf-init="tooltip" title="{{ phrase('remove_this_filter')|for_attr }}">
								<span class="filterBar-filterToggle-label">{{ phrase('price:') }}</span>
								<xf:if is="$filters.type == 'free'">{{ phrase('xfrm_free') }}<xf:else />{{ phrase('xfrm_paid') }}</xf:if></a></li>
						</xf:if>
						<xf:if is="$filters.prefix_id">
							<li><a href="{{ link($baseLinkPath, $category, $filters|replace('prefix_id', null)) }}"
								class="filterBar-filterToggle" data-xf-init="tooltip" title="{{ phrase('remove_this_filter')|for_attr }}">
								<span class="filterBar-filterToggle-label">{{ phrase('prefix:') }}</span>
								{{ prefix_title('resource', $filters.prefix_id) }}</a></li>
						</xf:if>
						<xf:if is="$filters.creator_id AND $creatorFilter">
							<li><a href="{{ link($baseLinkPath, $category, $filters|replace('creator_id', null)) }}"
								class="filterBar-filterToggle" data-xf-init="tooltip" title="{{ phrase('remove_this_filter')|for_attr }}">
								<span class="filterBar-filterToggle-label">{{ phrase('xfrm_creator:') }}</span>
								{$creatorFilter.username}</a></li>
						</xf:if>
						<xf:if is="$filters.order AND {$sortOrders.{$filters.order}}">
							<li><a href="{{ link($baseLinkPath, $category, $filters|replace({'order': null, 'direction': null})) }}"
								class="filterBar-filterToggle" data-xf-init="tooltip" title="{{ phrase('return_to_default_order')|for_attr }}">
								<span class="filterBar-filterToggle-label">{{ phrase('sort_by:') }}</span>
								{$sortOrders.{$filters.order}}
								<i class="fa {{ $filters.direction == 'asc' ? 'fa-angle-up' : 'fa-angle-down' }}" aria-hidden="true"></i>
								<span class="u-srOnly"><xf:if is="$filters.direction == 'asc'">{{ phrase('ascending') }}<xf:else />{{ phrase('descending') }}</xf:if></span>
							</a></li>
						</xf:if>
					</xf:contentcheck>
				</ul>
			</xf:if>

			<a class="filterBar-menuTrigger" data-xf-click="menu" role="button" tabindex="0" aria-expanded="false" aria-haspopup="true">{{ phrase('filters') }}</a>
			<div class="menu menu--wide" data-menu="menu" aria-hidden="true"
				data-href="{{ link($baseLinkPath . '/filters', $category, $filters) }}"
				data-load-target=".js-filterMenuBody">
				<div class="menu-content">
					<h4 class="menu-header">{{ phrase('show_only:') }}</h4>
					<div class="js-filterMenuBody">
						<div class="menu-row">{{ phrase('loading...') }}</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</xf:macro>]]></template>
  <template type="admin" title="xfrm_permission_category_edit" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:if is="$userGroup">
	<xf:title>{$userGroup.title}</xf:title>
<xf:else />
	<xf:title>{$user.username}</xf:title>
</xf:if>

<xf:breadcrumb href="{{ link('permissions/resource-categories', $record) }}">{$record.title}</xf:breadcrumb>

<xf:macro template="permission_category_macros" name="edit"
	arg-category="{$record}"
	arg-permissionData="{$permissionData}"
	arg-typeEntries="{$typeEntries}"
	arg-routeBase="permissions/resource-categories"
	arg-saveParams="{$saveParams}" />
]]></template>
  <template type="admin" title="xfrm_permission_category_list" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:title>{$record.title}</xf:title>

<xf:macro template="permission_category_macros" name="list"
	arg-category="{$record}"
	arg-isPrivate="{$isPrivate}"
	arg-userGroups="{$userGroups}"
	arg-users="{$users}"
	arg-entries="{$entries}"
	arg-routeBase="permissions/resource-categories" />
]]></template>
  <template type="admin" title="xfrm_permission_category_overview" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('xfrm_resource_category_permissions') }}</xf:title>

<xf:if is="$categoryTree.countChildren()">
	<div class="block">
		<div class="block-outer">
			<xf:macro template="filter_macros" name="quick_filter" arg-key="resource-categories" arg-class="block-outer-opposite" />
		</div>
		<div class="block-container">
			<div class="block-body">
				<xf:datalist>
					<xf:foreach loop="$categoryTree.getFlattened(0)" value="$treeEntry">
						<xf:set var="$category" value="{$treeEntry.record}" />
						<xf:datarow rowclass="{{ {$customPermissions.{$category.resource_category_id}} ? 'dataList-row--custom' : '' }}">
							<xf:cell class="dataList-cell--link dataList-cell--main" hash="{$category.resource_category_id}">
								<a href="{{ link('permissions/resource-categories', $category) }}">
									<div class="u-depth{$treeEntry.depth}">
										<div class="dataList-mainRow">{$category.title}</div>
									</div>
								</a>
							</xf:cell>
							<xf:action href="{{ link('resource-manager/categories/edit', $category) }}">{{ phrase('edit') }}</xf:action>
						</xf:datarow>
					</xf:foreach>
				</xf:datalist>
			</div>
		</div>
	</div>
<xf:else />
	<div class="blockMessage">{{ phrase('no_items_have_been_created_yet') }}</div>
</xf:if>]]></template>
  <template type="admin" title="xfrm_resource" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('admin_navigation.xfrm') }}</xf:title>

<xf:macro template="section_nav_macros" name="section_nav" arg-section="xfrm" />]]></template>
  <template type="public" title="xfrm_resource_add_chooser" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('xfrm_post_resource_in...') }}</xf:title>

<xf:macro name="category_list" arg-children="{$categoryTree}" arg-extras="{$categoryExtras}" />

<xf:macro name="category_list" arg-children="!" arg-extras="!" arg-depth="0">
	<xf:foreach loop="$children" key="$id" value="$child">
		<xf:macro name="category_list_entry"
			arg-category="{$child.record}"
			arg-extras="{$extras.{$id}}"
			arg-children="{$child.children}"
			arg-childExtras="{$extras}"
			arg-depth="{$depth}"
		/>
	</xf:foreach>
</xf:macro>

<xf:macro name="category_list_entry" arg-category="!" arg-extras="!" arg-children="!" arg-childExtras="!" arg-depth="0">
	<xf:if is="$category.canAddResource()">
		<xf:macro name="{{ $depth == 0 ? 'category_list_entry_add_level_0' : 'category_list_entry_add' }}"
			arg-category="{$category}"
			arg-extras="{$extras}"
			arg-children="{$children}"
			arg-childExtras="{$childExtras}"
			arg-depth="{$depth}"
		/>
	<xf:else />
		<xf:macro name="{{ $depth == 0 ? 'category_list_entry_no_add_level_0' : 'category_list_entry_no_add' }}"
			arg-category="{$category}"
			arg-extras="{$extras}"
			arg-children="{$children}"
			arg-childExtras="{$childExtras}"
			arg-depth="{$depth}"
		/>
	</xf:if>
</xf:macro>

<xf:macro name="category_list_entry_no_add_level_0"
	arg-category="!"
	arg-extras="!"
	arg-children="!"
	arg-childExtras="!"
	arg-depth="0"
>
	<div class="block block--treeEntryChooser">
		<div class="block-container">
			<h2 class="block-header">
				{$category.title}
				<xf:if is="$category.description">
					<span class="block-desc">
						{$category.description|strip_tags}
					</span>
				</xf:if>
			</h2>
			<div class="block-body">
				<xf:macro name="category_list"
					arg-children="{$children}"
					arg-extras="{$childExtras}"
					arg-depth="{{ $depth + 1 }}"
				/>
			</div>
		</div>
	</div>
</xf:macro>

<xf:macro name="category_list_entry_add_level_0"
	arg-category="!"
	arg-extras="!"
	arg-children="!"
	arg-childExtras="!"
	arg-depth="0"
>
	<div class="block block--treeEntryChooser">
		<div class="block-container">
			<xf:macro name="category_list_entry_add"
				arg-category="{$category}"
				arg-extras="{$extras}"
				arg-children="{$children}"
				arg-childExtras="{$childExtras}"
				arg-depth="{$depth}"
			/>
		</div>
	</div>
</xf:macro>

<xf:macro name="category_list_entry_add"
	arg-category="!"
	arg-extras="!"
	arg-children="!"
	arg-childExtras="!"
	arg-depth="0"
>
	<div class="block-row block-row--clickable block-row--separated fauxBlockLink">
		<div class="contentRow contentRow--alignMiddle{{ $depth > 1 ? ' u-depth' . ($depth - 1) : '' }}">
			<div class="contentRow-main">
				<h2 class="contentRow-title">
					<a href="{{ link('resources/categories/add', $category) }}" class="fauxBlockLink-blockLink">
						{$category.title}
					</a>
				</h2>
				<xf:if is="$category.description">
					<div class="contentRow-minor contentRow-minor--singleLine">
						{$category.description|strip_tags}
					</div>
				</xf:if>
			</div>
			<div class="contentRow-suffix">
				<dl class="pairs pairs--rows pairs--rows--centered">
					<dt>{{ phrase('xfrm_resources') }}</dt>
					<dd>{$extras.resource_count|number_short}</dd>
				</dl>
			</div>
		</div>
	</div>
	<xf:macro name="category_list"
		arg-children="{$children}"
		arg-extras="{$childExtras}"
		arg-depth="{{ $depth + 1 }}"
	/>
</xf:macro>

<xf:macro name="category_list_entry_no_add"
	arg-category="!"
	arg-extras="!"
	arg-children="!"
	arg-childExtras="!"
	arg-depth="0"
>
	<div class="block-row block-row--separated">
		<div class="contentRow contentRow--alignMiddle{{ $depth > 1 ? ' u-depth' . ($depth - 1) : '' }} is-disabled">
			<div class="contentRow-main">
				<h2 class="contentRow-title">
					{$category.title}
				</h2>
				<div class="contentRow-minor contentRow-minor--singleLine">
					{{ phrase('xfrm_you_may_not_add_resources_to_this_category') }}
				</div>
			</div>
			<div class="contentRow-suffix">
				<dl class="pairs pairs--rows pairs--rows--centered">
					<dt>{{ phrase('xfrm_resources') }}</dt>
					<dd>{$extras.resource_count|number_short}</dd>
				</dl>
			</div>
		</div>
	</div>
	<xf:macro name="category_list"
		arg-children="{$children}"
		arg-extras="{$childExtras}"
		arg-depth="{{ $depth + 1 }}"
	/>
</xf:macro>]]></template>
  <template type="public" title="xfrm_resource_approve" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('xfrm_approve_resource') }}</xf:title>

<xf:breadcrumb source="$resource.getBreadcrumbs()" />

<xf:form action="{{ link('resources/approve', $resource) }}" class="block" ajax="true">
	<div class="block-container">
		<div class="block-body">
			<xf:inforow rowtype="confirm">
				{{ phrase('please_confirm_that_you_want_to_approve_the_following:') }}
				<strong><a href="{{ link('resources', $resource) }}">{$resource.title}</a></strong>
			</xf:inforow>
		</div>
		<xf:submitrow icon="save" rowtype="simple" />
	</div>
</xf:form>]]></template>
  <template type="public" title="xfrm_resource_change_type" version_id="2000052" version_string="2.0.0 Release Candidate 2"><![CDATA[<xf:title>{{ phrase('xfrm_change_resource_type') }}</xf:title>

<xf:breadcrumb source="$resource.getBreadcrumbs()" />

<xf:form action="{{ link('resources/change-type', $resource) }}" ajax="true" class="block">
	<div class="block-container">
		<div class="block-body">
			<xf:macro template="xfrm_resource_edit_macros" name="type"
				arg-currentType="{{ $resource.getResourceTypeDetailed() }}"
				arg-resource="{$resource}"
				arg-category="{$category}"
				arg-versionAttachData="{$versionAttachData}"
				arg-allowCurrentType="{{ true }}" />

			<xf:if is="$category.hasVersioningSupport()">
				<xf:textboxrow name="version_string" value="{$category.draft_resource.version_string}"
					label="{{ phrase('xfrm_version_number') }}" />
			</xf:if>
		</div>
		<xf:submitrow icon="save" sticky="true" />
	</div>
</xf:form>]]></template>
  <template type="public" title="xfrm_resource_delete" version_id="2000032" version_string="2.0.0 Beta 2"><![CDATA[<xf:title>{{ phrase('xfrm_delete_resource') }}</xf:title>

<xf:breadcrumb source="$resource.getBreadcrumbs()" />

<xf:form action="{{ link('resources/delete', $resource) }}" class="block" ajax="true">
	<div class="block-container">
		<div class="block-body">
			<xf:macro template="helper_action" name="delete_type" arg-canHardDelete="{$resource.canDelete('hard')}" />

			<xf:if is="$resource.canSendModeratorActionAlert()">
				<xf:macro template="helper_action" name="author_alert" />
			</xf:if>
		</div>
		<xf:submitrow icon="delete" />
	</div>
</xf:form>]]></template>
  <template type="public" title="xfrm_resource_download_chooser" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('xfrm_choose_file...') }}</xf:title>

<div class="block">
	<div class="block-container">
		<ul class="block-body">
			<xf:foreach loop="$files" value="$file">
				<li class="block-row block-row--separated">
					<div class="contentRow">
						<div class="contentRow-main">
							<span class="contentRow-extra">
								<xf:button
									href="{{ link('resources/version/download', $version, {'file': $file.attachment_id}) }}"
									icon="download">{{ phrase('download') }}</xf:button>
							</span>
							<h3 class="contentRow-title">{$file.filename}</h3>
							<div class="contentRow-minor">
								{$file.file_size|file_size}
							</div>
						</div>
					</div>
				</li>
			</xf:foreach>
		</ul>
	</div>
</div>]]></template>
  <template type="public" title="xfrm_resource_edit" version_id="2000270" version_string="2.0.2"><![CDATA[<xf:title>{{ phrase('xfrm_edit_resource') }}</xf:title>

<xf:breadcrumb source="$resource.getBreadcrumbs()" />

<xf:form action="{{ link('resources/edit', $resource) }}" upload="true" ajax="true" class="block"
	data-preview-url="{{ link('resources/preview', $resource) }}">

	<div class="block-container">
		<div class="block-body">

			<xf:macro template="xfrm_resource_edit_macros" name="title"
				arg-resource="{$resource}"
				arg-prefixes="{$prefixes}" />

			<xf:macro template="xfrm_resource_edit_macros" name="tag_line" arg-resource="{$resource}" />

			<xf:if is="$category.hasVersioningSupport() AND $resource.CurrentVersion AND $resource.CurrentVersion.canEditVersionString()">
				<xf:textboxrow name="version_string" label="{{ phrase('xfrm_version_number') }}"
					value="{$resource.CurrentVersion.version_string}">

					<xf:explain><xf:if is="$resource.canReleaseUpdate()">
						{{ phrase('xfrm_if_need_new_version_post_update', {'link': link('resources/post-update', $resource)}) }}
					</xf:if></xf:explain>
				</xf:textboxrow>
			</xf:if>

			<xf:if is="$resource.isExternalPurchasable()">
				<xf:textboxrow name="external_purchase_url" value="{$resource.external_purchase_url}"
					label="{{ phrase('xfrm_external_purchase_url') }}" />

				<xf:formrow rowtype="input" label="{{ phrase('price') }}">
					<xf:macro template="xfrm_resource_edit_macros" name="purchase_inputs"
							arg-resource="{$resource}" />
				</xf:formrow>
			<xf:elseif is="$resource.isExternalDownload()" />
				<xf:textboxrow name="external_download_url" value="{$resource.CurrentVersion.download_url}"
					label="{{ phrase('xfrm_external_download_url') }}" />
			</xf:if>

			<xf:if contentcheck="true">
				<xf:contentcheck>
					<xf:macro template="custom_fields_macros" name="custom_fields_edit"
						arg-type="resources"
						arg-set="{$resource.custom_fields}"
						arg-group="above_info"
						arg-editMode="{{ $resource.getFieldEditMode() }}"
						arg-onlyInclude="{$category.field_cache}" />
				</xf:contentcheck>

				<hr class="formRowSep" />
			</xf:if>

			<xf:macro template="xfrm_resource_edit_macros" name="description"
				arg-description="{$resource.Description.message_}"
				arg-attachmentData="{$attachmentData}" />

			<xf:if contentcheck="true">
				<hr class="formRowSep" />

				<xf:contentcheck>
					<xf:macro template="custom_fields_macros" name="custom_fields_edit_groups"
						arg-type="resources"
						arg-set="{$resource.custom_fields}"
						arg-groups="{{ ['below_info', 'extra_tab', 'new_tab'] }}"
						arg-editMode="{{ $resource.getFieldEditMode() }}"
						arg-onlyInclude="{$category.field_cache}" />
				</xf:contentcheck>
			</xf:if>

			<hr class="formRowSep" />

			<xf:macro template="xfrm_resource_edit_macros" name="external_url" arg-resource="{$resource}" />
			<xf:macro template="xfrm_resource_edit_macros" name="alt_support_url" arg-resource="{$resource}" />

			<xf:if contentcheck="true">
				<hr class="formRowSep" />

				<xf:contentcheck>
					<xf:macro template="xfrm_resource_edit_macros" name="resource_icon" arg-resource="{$resource}" />
				</xf:contentcheck>
			</xf:if>

			<xf:if is="$resource.canSendModeratorActionAlert()">
				<hr class="formRowSep" />

				<xf:formrow>
					<xf:macro template="helper_action" name="author_alert" arg-row="{{ false }}" />
				</xf:formrow>
			</xf:if>
		</div>

		<xf:submitrow icon="save" sticky="true">
			<xf:html>
				<xf:button class="u-jsOnly" data-xf-click="preview-click" icon="preview" />
			</xf:html>
		</xf:submitrow>
	</div>
</xf:form>]]></template>
  <template type="public" title="xfrm_resource_edit_icon" version_id="2000270" version_string="2.0.2"><![CDATA[<xf:title>{{ phrase('xfrm_resource_icon') }}</xf:title>

<xf:breadcrumb source="$resource.getBreadcrumbs()" />

<xf:form action="{{ link('resources/edit-icon', $resource) }}" upload="true" ajax="true" class="block">
	<div class="block-container">
		<div class="block-body block-row">
			<xf:macro name="icon_edit" arg-resource="{$resource}" />
		</div>
		<xf:submitrow icon="save" rowtype="simple" />
	</div>
</xf:form>

<xf:macro name="icon_edit" arg-resource="!">
	<div class="contentRow">
		<div class="contentRow-figure">
			<span class="contentRow-figureIcon">{{ resource_icon($resource, 'm') }}</span>
		</div>
		<div class="contentRow-main">
			<xf:if is="$resource.icon_date">
				<xf:radio name="icon_action" value="custom">
					<xf:option value="custom" label="{{ phrase('xfrm_upload_custom_icon:') }}">
						<xf:macro name="custom_dependent" />
					</xf:option>

					<xf:if is="$resource.icon_date">
						<xf:option value="delete">{{ phrase('xfrm_delete_current_icon') }}</xf:option>
					</xf:if>
				</xf:radio>
				<xf:else />
				<span>{{ phrase('xfrm_upload_new_icon:') }}</span>
				<xf:macro name="custom_dependent" />
				<xf:hiddenval name="icon_action">custom</xf:hiddenval>
			</xf:if>
		</div>
	</div>
</xf:macro>

<xf:macro name="custom_dependent">
	<xf:upload name="upload" accept=".gif,.jpeg,.jpg,.jpe,.png" />
	<dfn class="inputChoices-explain">
		{{ phrase('it_is_recommended_that_you_use_image_that_is_at_least_x_pixels', {
			'width': 100,
			'height': 100
		}) }}
	</dfn>
</xf:macro>]]></template>
  <template type="public" title="xfrm_resource_edit_macros" version_id="2000270" version_string="2.0.2"><![CDATA[<xf:macro name="title" arg-resource="!" arg-prefixes="!">
	<xf:prefixinputrow
		label="{{ phrase('title') }}"
		prefixes="{$prefixes}"
		type="resource"
		prefix-value="{$resource.prefix_id}"
		textbox-value="{$resource.title_}"
		maxlength="{{ max_length($resource, 'title') }}"
		placeholder="{{ phrase('title...') }}" />
</xf:macro>

<xf:macro name="tag_line" arg-resource="!">
	<xf:textboxrow name="tag_line" value="{$resource.tag_line_}"
		maxlength="{{ max_length($resource, 'tag_line') }}"
		label="{{ phrase('xfrm_tag_line') }}"
		explain="{{ phrase('xfrm_provide_very_brief_one_line_description_of_your_resource') }}" />
</xf:macro>

<xf:macro name="type"
	arg-currentType="!"
	arg-resource="!"
	arg-category="!"
	arg-versionAttachData="!"
	arg-allowCurrentType="{{ false }}">

	<xf:radiorow name="resource_type" value="{$currentType}"
		label="{{ phrase('type') }}"
		data-xf-init="attachment-manager">

		<xf:if is="{$category.allow_local} OR ($currentType == 'download_local' AND $allowCurrentType)">
			<xf:option value="download_local"
				label="{{ phrase('xfrm_uploaded_files:') }}">

				<xf:macro template="helper_attach_upload" name="upload_block"
					arg-attachmentData="{$versionAttachData}"
					arg-hiddenName="version_attachment_hash" />
			</xf:option>
		</xf:if>

		<xf:if is="{$category.allow_external} OR ($currentType == 'download_external' AND $allowCurrentType)">
			<xf:option value="download_external"
				label="{{ phrase('xfrm_external_download_url:') }}">

				<xf:textbox name="external_download_url" value="{$category.draft_resource.external_download_url}"
					maxlength="{{ max_length('XFRM:ResourceVersion', 'download_url') }}" />
			</xf:option>
		</xf:if>

		<xf:if is="{$category.allow_commercial_external} OR ($currentType == 'external_purchase' AND $allowCurrentType)">
			<xf:option value="external_purchase"
				label="{{ phrase('xfrm_external_purchase:') }}">

				<xf:macro template="xfrm_resource_edit_macros" name="purchase_inputs"
					arg-resource="{$resource}"
					arg-withUrl="{{ true }}" />

			</xf:option>
		</xf:if>

		<xf:if is="{$category.allow_fileless} OR ($currentType == 'fileless' AND $allowCurrentType)">
			<xf:option value="fileless"
				label="{{ phrase('xfrm_does_not_have_file') }}"
				hint="{{ phrase('xfrm_description_will_contain_contents_of_this_resource') }}" />
		</xf:if>
	</xf:radiorow>
</xf:macro>

<xf:macro name="purchase_inputs" arg-resource="!" arg-withUrl="{{ false }}">
	<div class="inputGroup">
		<xf:if is="$withUrl">
			<xf:textbox name="external_purchase_url" value="{$resource.external_purchase_url}" placeholder="{{ phrase('xfrm_external_purchase_url') }}" />
			<span class="inputGroup-splitter"></span>
		</xf:if>
		<xf:textbox name="price" value="{{ $resource.price ?: '' }}" placeholder="{{ phrase('price') }}" style="width: 120px" />
		<span class="inputGroup-splitter"></span>
		<xf:select name="currency" value="{$resource.currency|to_upper}" style="width: 110px">
			<xf:foreach loop="$xf.app.em.getRepository('XFRM:ResourceItem').getAvailableCurrencies($resource)" value="$currency">
				<xf:option value="{$currency.code}">{$currency.code}</xf:option>
			</xf:foreach>
		</xf:select>
	</div>
</xf:macro>

<xf:macro name="description" arg-description="" arg-attachmentData="{{ [] }}">
	<div data-xf-init="attachment-manager">
		<xf:editorrow name="description" value="{$description}" data-min-height="200"
			attachments="{$attachmentData.attachments}"
			label="{{ phrase('description') }}" />

		<xf:formrow>
			<xf:if is="$attachmentData">
				<xf:macro template="helper_attach_upload" name="upload_block" arg-attachmentData="{$attachmentData}" />
			</xf:if>
			<xf:button class="button--link u-jsOnly" data-xf-click="preview-click" icon="preview" />
		</xf:formrow>
	</div>
</xf:macro>

<xf:macro name="external_url" arg-resource="!">
	<xf:textboxrow name="external_url" value="{$resource.external_url_}"
		maxlength="{{ max_length($resource, 'external_url') }}"
		label="{{ phrase('xfrm_additional_information_url') }}"
		explain="{{ phrase('xfrm_if_you_have_your_own_web_site_with_more_info_enter_url') }}" />
</xf:macro>

<xf:macro name="alt_support_url" arg-resource="!">
	<xf:if is="$xf.options.xfrmAllowSupportUrl">
		<xf:textboxrow name="alt_support_url" value="{$resource.alt_support_url_}"
			maxlength="{{ max_length($resource, 'alt_support_url') }}"
			label="{{ phrase('xfrm_alternative_support_url') }}"
			explain="{{ phrase('xfrm_if_you_have_specific_location_where_you_will_be_providing_support_or') }}" />
	</xf:if>
</xf:macro>

<xf:macro name="resource_icon" arg-resource="!">
	<xf:if is="$resource.canEditIcon()">
		<xf:formrow rowclass="noColon">
			<xf:macro template="xfrm_resource_edit_icon" name="icon_edit" arg-resource="{$resource}" />
		</xf:formrow>
	</xf:if>
</xf:macro>]]></template>
  <template type="public" title="xfrm_resource_extra" version_id="2000170" version_string="2.0.1"><![CDATA[<xf:title>{{ prefix('resource', $resource, 'escaped') }}{$resource.title} - {{ phrase('xfrm_extra_info') }}</xf:title>

<xf:wrap template="xfrm_resource_wrapper">
	<xf:set var="$pageSelected" value="extra" />
</xf:wrap>

<div class="block">
	<xf:if contentcheck="true">
		<div class="block-outer">
			<div class="block-outer-opposite">
			<xf:contentcheck>
				<xf:macro template="xfrm_resource_wrapper_macros" name="action_buttons" arg-resource="{$resource}" />
			</xf:contentcheck>
			</div>
		</div>
	</xf:if>

	<div class="block-container">
		<div class="block-body block-row">
			<xf:macro template="custom_fields_macros" name="custom_fields_view"
				arg-type="resources"
				arg-group="extra_tab"
				arg-onlyInclude="{$category.field_cache}"
				arg-set="{$resource.custom_fields}" />
		</div>
	</div>
</div>]]></template>
  <template type="public" title="xfrm_resource_field" version_id="2000170" version_string="2.0.1"><![CDATA[<xf:title>{{ prefix('resource', $resource, 'escaped') }}{$resource.title} - {{ phrase('xfrm_extra_info') }}</xf:title>

<xf:wrap template="xfrm_resource_wrapper">
	<xf:set var="$pageSelected" value="field_{$fieldId}" />
</xf:wrap>

<div class="block">
	<xf:if contentcheck="true">
		<div class="block-outer">
			<div class="block-outer-opposite">
			<xf:contentcheck>
				<xf:macro template="xfrm_resource_wrapper_macros" name="action_buttons" arg-resource="{$resource}" />
			</xf:contentcheck>
			</div>
		</div>
	</xf:if>

	<div class="block-container">
		<div class="block-body block-row">
			<xf:macro template="custom_fields_macros" name="custom_field_value"
				arg-definition="{$fieldDefinition}"
				arg-value="{$fieldValue}" />
		</div>
	</div>
</div>]]></template>
  <template type="admin" title="xfrm_resource_field_delete" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:include template="base_custom_field_delete" />]]></template>
  <template type="admin" title="xfrm_resource_field_edit" version_id="2000034" version_string="2.0.0 Beta 4"><![CDATA[<xf:include template="base_custom_field_edit">
	<xf:set var="$extraOptions">
		<xf:macro template="base_custom_field_macros" name="common_options"
			arg-field="{$field}" />
	</xf:set>
	<xf:set var="$displayOptions">
		<xf:selectrow name="resource_category_ids[]" value="{$categoryIds}" multiple="multiple" size="7"
			label="{{ phrase('xfrm_applicable_categories') }}">

			<xf:option value="" selected="!{$categoryIds}">{{ phrase('(none)') }}</xf:option>
			<xf:foreach loop="$categoryTree.getFlattened(0)" value="$treeEntry">
				<xf:option value="{$treeEntry.record.resource_category_id}">{{ repeat('&nbsp;&nbsp;', $treeEntry.depth)|raw }} {$treeEntry.record.title}</xf:option>
			</xf:foreach>
		</xf:selectrow>
	</xf:set>
</xf:include>]]></template>
  <template type="admin" title="xfrm_resource_field_list" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('xfrm_resource_fields') }}</xf:title>

<xf:include template="base_custom_field_list" />]]></template>
  <template type="public" title="xfrm_resource_history" version_id="2000170" version_string="2.0.1"><![CDATA[<xf:title>{{ prefix('resource', $resource, 'escaped') }}{$resource.title} - {{ phrase('history') }}</xf:title>

<xf:wrap template="xfrm_resource_wrapper">
	<xf:set var="$pageSelected" value="history" />
</xf:wrap>

<div class="block">
	<div class="block-container">
		<div class="block-body">
			<xf:datalist data-xf-init="responsive-data-list">
				<xf:datarow rowtype="header">
					<xf:cell>{{ phrase('xfrm_version') }}</xf:cell>
					<xf:cell>{{ phrase('xfrm_release_date') }}</xf:cell>
					<xf:if is="$hasDownload">
						<xf:cell>{{ phrase('xfrm_downloads') }}</xf:cell>
					</xf:if>
					<xf:cell>{{ phrase('rating') }}</xf:cell>
					<xf:if is="$hasDownload AND $resource.canDownload()">
						<xf:cell></xf:cell>
					</xf:if>
					<xf:if is="$hasDelete">
						<xf:cell></xf:cell>
					</xf:if>
				</xf:datarow>
				<xf:foreach loop="$versions" value="$version">
					<xf:datarow rowclass="{{ $version.version_state == 'deleted' ? 'dataList-row--deleted' : '' }}">
						<xf:cell>{$version.version_string}</xf:cell>
						<xf:cell><xf:date time="{$version.release_date}" /></xf:cell>
						<xf:if is="$hasDownload">
							<xf:cell>
								{{ $version.isDownloadable() ? $version.download_count|number : phrase('n_a') }}
							</xf:cell>
						</xf:if>
						<xf:cell>
							<xf:macro template="rating_macros" name="stars_text"
								arg-rating="{$version.rating_avg}"
								arg-count="{$version.rating_count}" />
						</xf:cell>
						<xf:if is="$hasDownload AND $resource.canDownload()">
							<xf:if is="$version.isDownloadable()">
								<xf:action href="{{ link('resources/version/download', $version) }}"
									overlay="{{ $version.file_count > 1 }}">{{ phrase('download') }}</xf:action>
							<xf:else />
								<xf:cell class="dataList-cell--alt"></xf:cell>
							</xf:if>
						</xf:if>
						<xf:if is="$hasDelete">
							<xf:if is="$version.canDelete()">
								<xf:delete href="{{ link('resources/version/delete', $version) }}" />
							<xf:else />
								<xf:cell class="dataList-cell--alt"></xf:cell>
							</xf:if>
						</xf:if>
					</xf:datarow>
				</xf:foreach>
			</xf:datalist>
		</div>
	</div>
</div>]]></template>
  <template type="public" title="xfrm_resource_list_macros" version_id="2000270" version_string="2.0.2"><![CDATA[<xf:macro name="resource"
	arg-resource="!"
	arg-category="{{ null }}"
	arg-showWatched="{{ true }}"
	arg-allowInlineMod="{{ true }}"
	arg-chooseName=""
	arg-extraInfo="">

	<xf:css src="structured_list.less" />
	<xf:css src="xfrm.less" />

	<div class="structItem structItem--resource {{ $resource.prefix_id ? 'is-prefix' . $resource.prefix_id : '' }} {{ $resource.isIgnored() ? 'is-ignored' : '' }}{{ $resource.resource_state == 'moderated' ? 'is-moderated' : '' }}{{ $resource.resource_state == 'deleted' ? 'is-deleted' : '' }} js-inlineModContainer js-resourceListItem-{$resource.resource_id}" data-author="{{ $resource.User.username ?: $resource.username }}">
		<div class="structItem-cell structItem-cell--icon structItem-cell--iconExpanded">
			<div class="structItem-iconContainer">
				<xf:if is="$xf.options.xfrmAllowIcons">
					{{ resource_icon($resource, 's', link('resources', $resource)) }}
					<xf:avatar user="$resource.User" size="s"
						href=""
						class="avatar--separated structItem-secondaryIcon" />
				<xf:else />
					<xf:avatar user="$resource.User" size="s" defaultname="{$resource.username}" />
				</xf:if>
			</div>
		</div>
		<div class="structItem-cell structItem-cell--main" data-xf-init="touch-proxy">
			<xf:if contentcheck="true">
				<ul class="structItem-statuses">
				<xf:contentcheck>
					<xf:if is="$resource.Featured">
						<li>
							<i class="structItem-status structItem-status--attention" aria-hidden="true" title="{{ phrase('xfrm_featured')|for_attr }}"></i>
							<span class="u-srOnly">{{ phrase('xfrm_featured') }}</span>
						</li>
					</xf:if>
					<xf:if is="$resource.resource_state == 'moderated'">
						<li>
							<i class="structItem-status structItem-status--moderated" aria-hidden="true" title="{{ phrase('awaiting_approval')|for_attr }}"></i>
							<span class="u-srOnly">{{ phrase('awaiting_approval') }}</span>
						</li>
					</xf:if>
					<xf:if is="$resource.resource_state == 'deleted'">
						<li>
							<i class="structItem-status structItem-status--deleted" aria-hidden="true" title="{{ phrase('deleted')|for_attr }}"></i>
							<span class="u-srOnly">{{ phrase('deleted') }}</span>
						</li>
					</xf:if>
					<xf:if is="{$showWatched} AND {$xf.visitor.user_id}">
						<xf:if is="{$resource.Watch.{$xf.visitor.user_id}}">
							<li>
								<i class="structItem-status structItem-status--watched" aria-hidden="true" title="{{ phrase('xfrm_resource_watched')|for_attr }}"></i>
								<span class="u-srOnly">{{ phrase('xfrm_resource_watched') }}</span>
							</li>
						<xf:elseif is="!$category AND {$resource.Category.Watch.{$xf.visitor.user_id}}" />
							<li>
								<i class="structItem-status structItem-status--watched" aria-hidden="true" title="{{ phrase('xfrm_category_watched')|for_attr }}"></i>
								<span class="u-srOnly">{{ phrase('xfrm_category_watched') }}</span>
							</li>
						</xf:if>
					</xf:if>
				</xf:contentcheck>
				</ul>
			</xf:if>

			<div class="structItem-title">
				<xf:if is="$resource.prefix_id">
					<xf:if is="$category">
						<a href="{{ link('resources/categories', $category, {'prefix_id': $resource.prefix_id}) }}" class="labelLink" rel="nofollow">{{ prefix('resource', $resource, 'html', '') }}</a>
					<xf:else />
						{{ prefix('resource', $resource, 'html', '') }}
					</xf:if>
				</xf:if>
				<a href="{{ link('resources', $resource) }}" class="" data-tp-primary="on">{$resource.title}</a>
				<xf:if is="$resource.isVersioned()">
					<span class="u-muted">{$resource.CurrentVersion.version_string}</span>
				</xf:if>
				<xf:if is="$resource.isExternalPurchasable()">
					<span class="label label--primary label--smallest">{$resource.price|currency($resource.currency)}</span>
				</xf:if>
			</div>

			<div class="structItem-minor">
				<xf:if contentcheck="true">
					<ul class="structItem-extraInfo">
					<xf:contentcheck>
						<xf:if is="{$extraInfo}">
							<li>{$extraInfo}</li>
						</xf:if>
						<xf:if is="$chooseName">
							<li><xf:checkbox standalone="true">
								<xf:option name="{$chooseName}[]" value="{$resource.resource_id}" class="js-chooseItem" />
							</xf:checkbox></li>
						<xf:elseif is="$allowInlineMod AND $resource.canUseInlineModeration()" />
							<li><xf:checkbox standalone="true"><xf:option value="{$resource.resource_id}"
								class="js-inlineModToggle"
								data-xf-init="tooltip" title="{{ phrase('select_for_moderation')|for_attr }}" /></xf:checkbox></li>
						</xf:if>
					</xf:contentcheck>
					</ul>
				</xf:if>

				<xf:if is="$resource.resource_state == 'deleted'">
					<xf:if is="{$extraInfo}"><span class="structItem-extraInfo">{$extraInfo}</span></xf:if>

					<xf:macro template="deletion_macros" name="notice" arg-log="{$resource.DeletionLog}" />
				<xf:else />
					<ul class="structItem-parts">
						<li><xf:username user="$resource.User" defaultname="{$resource.username}" /></li>
						<li class="structItem-startDate"><a href="{{ link('resources', $resource) }}" rel="nofollow"><xf:date time="{$resource.resource_date}" /></a></li>
						<xf:if is="!$category OR $category.hasChildren()">
							<li><a href="{{ link('resources/categories', $resource.Category) }}">{$resource.Category.title}</a></li>
						</xf:if>
					</ul>
				</xf:if>
			</div>

			<xf:if is="$resource.resource_state != 'deleted'">
				<div class="structItem-resourceTagLine">{$resource.tag_line}</div>
			</xf:if>
		</div>
		<div class="structItem-cell structItem-cell--resourceMeta">
			<div class="structItem-metaItem  structItem-metaItem--rating">
				<xf:macro template="rating_macros" name="stars_text"
					arg-rating="{$resource.rating_avg}"
					arg-count="{$resource.rating_count}"
					arg-rowClass="ratingStarsRow--justified"
					arg-starsClass="ratingStars--larger" />
			</div>

			<xf:if is="$resource.isDownloadable()">
				<dl class="pairs pairs--justified structItem-minor structItem-metaItem structItem-metaItem--downloads">
					<dt>{{ phrase('xfrm_downloads') }}</dt>
					<dd>{$resource.download_count|number}</dd>
				</dl>
			</xf:if>
			<dl class="pairs pairs--justified structItem-minor structItem-metaItem structItem-metaItem--lastUpdate">
				<dt>{{ phrase('updated') }}</dt>
				<dd><a href="{{ link('resources/updates', $resource) }}" class="u-concealed"><xf:date time="{$resource.last_update}" /></a></dd>
			</dl>
		</div>
	</div>
</xf:macro>

<xf:macro name="resource_simple" arg-resource="!" arg-withMeta="{{ true }}">
	<div class="contentRow">
		<div class="contentRow-figure">
			<xf:if is="$xf.options.xfrmAllowIcons">
				{{ resource_icon($resource, 'xxs', link('resources', $resource)) }}
			<xf:else />
				<xf:avatar user="$resource.User" size="xxs" />
			</xf:if>
		</div>
		<div class="contentRow-main contentRow-main--close">
			<a href="{{ link('resources', $resource) }}">{{ prefix('resource', $resource) }}{$resource.title}</a>
			<div class="contentRow-lesser">{$resource.tag_line}</div>
			<xf:if is="$withMeta">
				<div class="contentRow-minor contentRow-minor--smaller">
					<ul class="listInline listInline--bullet">
						<li>{{ $resource.User.username ?: $resource.username }}</li>
						<li>{{ phrase('updated:') }} <xf:date time="{$resource.last_update}" /></li>
					</ul>
				</div>
			</xf:if>
		</div>
	</div>
</xf:macro>]]></template>
  <template type="email" title="xfrm_resource_macros" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:macro name="go_resource_bar" arg-resource="!" arg-watchType="!">
	<table cellpadding="10" cellspacing="0" border="0" width="100%" class="linkBar">
	<tr>
		<td>
			<a href="{{ link('canonical:resources', $resource) }}" class="button">{{ phrase('xfrm_view_this_resource') }}</a>
		</td>
		<td align="{{ $xf.isRtl ? 'left' : 'right' }}">
			<xf:if is="$watchType == 'resource'">
				<a href="{{ link('canonical:watched/resources') }}" class="buttonFake">{{ phrase('xfrm_watched_resources') }}</a>
			<xf:elseif is="$watchType == 'category'" />
				<a href="{{ link('canonical:watched/resource-categories') }}" class="buttonFake">{{ phrase('watched_categories') }}</a>
			</xf:if>
		</td>
	</tr>
	</table>
</xf:macro>

<xf:macro name="watched_category_footer" arg-resource="!" arg-category="!">
	{{ phrase('xfrm_watched_category_email_html_footer', {
		'category': $category.title,
		'board': $xf.options.boardTitle,
		'disable_this_link': link('canonical:email-stop/content', $xf.toUser, {'t': 'resource_category', 'id': $category.resource_category_id}),
		'disable_all_link': link('canonical:email-stop/all', $xf.toUser)
	}) }}
</xf:macro>

<xf:macro name="watched_resource_footer" arg-resource="!">
	{{ phrase('xfrm_watched_resource_email_html_footer', {
		'resource':  $resource.title,
		'board': $xf.options.boardTitle,
		'disable_this_link': link('canonical:email-stop/content', $xf.toUser, {'t': 'resource', 'id': $resource.resource_id}),
		'disable_all_link': link('canonical:email-stop/all', $xf.toUser)
	}) }}
</xf:macro>]]></template>
  <template type="public" title="xfrm_resource_move" version_id="2000032" version_string="2.0.0 Beta 2"><![CDATA[<xf:title>{{ phrase('xfrm_move_resource') }}</xf:title>

<xf:breadcrumb source="$resource.getBreadcrumbs()" />

<xf:form action="{{ link('resources/move', $resource) }}" class="block" ajax="true">
	<div class="block-container">
		<div class="block-body js-prefixListenContainer">
			<xf:prefixinputrow
				label="{{ phrase('title') }}"
				prefixes="{$prefixes}"
				type="resource"
				prefix-value="{$resource.prefix_id}"
				textbox-value="{$resource.title}"
				href="{{ link('resources/prefixes') }}"
				listen-to="< .js-prefixListenContainer | .js-categoryList"
				autofocus="autofocus"
				maxlength="{{ max_length($resource, 'title') }}" />

			<xf:selectrow name="target_category_id" value="{$resource.resource_category_id}" class="js-categoryList"
				label="{{ phrase('xfrm_destination_category') }}">

				<xf:foreach loop="$categoryTree.getFlattened(0)" value="$treeEntry">
					<xf:option value="{$treeEntry.record.resource_category_id}">{{ repeat_raw('&nbsp; ', $treeEntry.depth) }} {$treeEntry.record.title}</xf:option>
				</xf:foreach>
			</xf:selectrow>

			<xf:checkboxrow>
				<xf:option name="notify_watchers" value="1" selected="{{ true }}">{{ phrase('xfrm_notify_members_watching_destination_category') }}</xf:option>
			</xf:checkboxrow>

			<xf:if is="$resource.canSendModeratorActionAlert()">
				<xf:macro template="helper_action" name="author_alert" arg-selected="{{ true }}" />
			</xf:if>
		</div>
		<xf:submitrow icon="save" sticky="true" />
	</div>
</xf:form>]]></template>
  <template type="public" title="xfrm_resource_page_macros" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:macro name="resource_page_options" arg-category="!" arg-resource="{{ null }}">
	<xf:page option="resourceCategory" value="{$category}" />

	<xf:page option="searchConstraints" value="{{ {
		phrase('xfrm_resources'): {'search_type': 'resource'},
		phrase('xfrm_this_category'): {'search_type': 'resource', 'c': {'categories': [$category.resource_category_id], 'child_categories': 1}}
	} }}" />
</xf:macro>]]></template>
  <template type="public" title="xfrm_resource_post_update" version_id="2000052" version_string="2.0.0 Release Candidate 2"><![CDATA[<xf:title>{{ phrase('xfrm_update_resource') }}</xf:title>

<xf:breadcrumb source="$resource.getBreadcrumbs()" />

<xf:form action="{{ link('resources/post-update', $resource) }}" ajax="true" class="block"
	draft="{{ link('resources/post-update/draft', $resource) }}"
	data-preview-url="{{ link('resources/post-update/preview', $resource) }}">

	<div class="block-container">
		<xf:if is="$resource.hasUpdatableVersionData()">
			<h2 class="block-formSectionHeader"><span class="block-formSectionHeader-aligner">{{ $resource.isVersioned() ? phrase('xfrm_release_new_version') : phrase('xfrm_replace_download') }}</span></h2>
			<div class="block-body" data-xf-init="{{ $resource.isDownloadable() ? 'attachment-manager' : '' }}">
				<xf:checkboxrow>
					<xf:option name="new_version"
						value="1"
						data-xf-init="disabler"
						data-container="#js-ResourceNewVersion"
						data-hide="true">
						{{ $resource.isVersioned() ? phrase('xfrm_release_new_version') : phrase('xfrm_replace_download') }}
					</xf:option>
				</xf:checkboxrow>

				<div id="js-ResourceNewVersion">
					<xf:macro name="new_version" />
				</div>
			</div>

			<h2 class="block-formSectionHeader"><span class="block-formSectionHeader-aligner">{{ phrase('xfrm_post_update') }}</span></h2>
			<div class="block-body" data-xf-init="attachment-manager">
				<xf:checkboxrow>
					<xf:option name="new_update" value="1" selected="{{ true }}"
						data-xf-init="disabler"
						data-container="#js-ResourceNewUpdate"
						data-hide="true">
						{{ phrase('xfrm_post_update') }}
					</xf:option>
				</xf:checkboxrow>

				<div id="js-ResourceNewUpdate">
					<xf:macro name="new_update" />
				</div>

			</div>
		<xf:else />
			<div class="block-body" data-xf-init="attachment-manager">
				<xf:macro name="new_update" />
				<xf:hiddenval name="new_update">1</xf:hiddenval>
			</div>
		</xf:if>

		<xf:submitrow icon="save" sticky="true" />
	</div>
</xf:form>

<xf:macro name="new_version" global="true">
	<xf:if is="$resource.isVersioned()">
		<xf:textboxrow name="version_string"
			maxlength="{{ max_length('XFRM:ResourceVersion', 'version_string') }}"
			label="{{ phrase('xfrm_new_version_number') }}" />
	</xf:if>

	<xf:if is="$resource.isDownloadable()">
		<xf:radiorow name="version_type" value="{{ $resource.isExternalDownload() ? 'external' : 'local'}}"
			label="{{ phrase('xfrm_new_content') }}">

			<xf:if is="{$resource.Category.allow_local} OR $resource.getResourceTypeDetailed() == 'download_local'">
				<xf:option value="local"
					label="{{ phrase('xfrm_uploaded_files:') }}">

					<xf:macro template="helper_attach_upload" name="upload_block"
						arg-attachmentData="{$versionAttachData}"
						arg-hiddenName="version_attachment_hash" />
				</xf:option>
			</xf:if>

			<xf:if is="{$resource.Category.allow_external} OR $resource.getResourceTypeDetailed() == 'download_external'">
				<xf:option value="external"
					label="{{ phrase('xfrm_external_download_url:') }}">

					<xf:textbox name="external_download_url" value="{{ $resource.isExternalDownload() ? $resource.CurrentVersion.download_url : '' }}"
						type="url"
						maxlength="{{ max_length('XFRM:ResourceVersion', 'download_url') }}" />
				</xf:option>
			</xf:if>
		</xf:radiorow>
	</xf:if>

	<xf:if is="$resource.isExternalPurchasable()">
		<xf:textboxrow name="external_purchase_url" value="{$resource.external_purchase_url}"
			label="{{ phrase('xfrm_external_purchase_url') }}" />

		<xf:formrow rowtype="input" label="{{ phrase('price') }}">
			<xf:macro template="xfrm_resource_edit_macros" name="purchase_inputs"
					arg-resource="{$resource}" />
		</xf:formrow>
	</xf:if>
</xf:macro>

<xf:macro name="new_update" global="true">
	<xf:textboxrow name="update_title"
		value="{$resource.draft_update.update_title}"
		maxlength="{{ max_length($resource, 'title') }}"
		label="{{ phrase('xfrm_update_title') }}" />

	<xf:editorrow name="update_message" data-min-height="200"
		value="{$resource.draft_update.message}"
		attachments="{$updateAttachData.attachments}"
		label="{{ phrase('xfrm_update_message') }}" />

	<xf:formrow>
		<xf:if is="$updateAttachData">
			<xf:macro template="helper_attach_upload" name="upload_block"
				arg-attachmentData="{$updateAttachData}" />
		</xf:if>
		<xf:button class="button--link u-jsOnly" data-xf-click="preview-click" icon="preview" />
	</xf:formrow>
</xf:macro>]]></template>
  <template type="admin" title="xfrm_resource_prefix_delete" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:include template="base_prefix_delete" />]]></template>
  <template type="admin" title="xfrm_resource_prefix_edit" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:include template="base_prefix_edit">
	<xf:set var="$extraOptions">
		<xf:macro template="xfrm_resource_prefix_edit_macros" name="category_ids"
			arg-categoryIds="{$prefix.resource_category_ids}"
			arg-categoryTree="{$categoryTree}" />
	</xf:set>
</xf:include>]]></template>
  <template type="admin" title="xfrm_resource_prefix_edit_macros" version_id="2000052" version_string="2.0.0 Release Candidate 2"><![CDATA[<xf:macro name="category_ids" arg-categoryIds="!" arg-categoryTree="!" arg-withRow="1">
	<xf:set var="$inner">
		<ul class="inputList">
			<li><xf:select name="resource_category_ids[]" size="7" multiple="multiple" value="{$categoryIds}" id="js-applicableCategories">
				<xf:option value="" selected="!{$categoryIds}">{{ phrase('(none)') }}</xf:option>
				<xf:foreach loop="$categoryTree.getFlattened(0)" value="$treeEntry">
					<xf:option value="{$treeEntry.record.resource_category_id}">{{ repeat('&nbsp;&nbsp;', $treeEntry.depth)|raw }} {$treeEntry.record.title}</xf:option>
				</xf:foreach>
			</xf:select></li>
			<xf:checkbox>
				<xf:option id="js-selectAllCategories">{{ phrase('select_all') }}</xf:option>
			</xf:checkbox>
		</ul>
	</xf:set>

	<xf:if is="$withRow">
		<xf:formrow rowtype="input"
			label="{{ phrase('xfrm_applicable_categories') }}">

			{$inner|raw}
		</xf:formrow>
	<xf:else />
		{$inner|raw}
	</xf:if>

	<xf:js>
		$(function()
		{
			$('#js-selectAllCategories').click(function(e)
			{
				$('#js-applicableCategories').find('option:enabled:not([value=""])').prop('selected', this.checked);
			});
		});
	</xf:js>
</xf:macro>]]></template>
  <template type="admin" title="xfrm_resource_prefix_group_delete" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:include template="base_prefix_group_delete" />]]></template>
  <template type="admin" title="xfrm_resource_prefix_group_edit" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:include template="base_prefix_group_edit" />]]></template>
  <template type="admin" title="xfrm_resource_prefix_list" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('xfrm_resource_prefixes') }}</xf:title>

<xf:include template="base_prefix_list" />]]></template>
  <template type="admin" title="xfrm_resource_prefix_quickset_chooser" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:include template="base_prefix_quickset_chooser">
	<xf:set var="$prefixType" value="resource" />
</xf:include>]]></template>
  <template type="admin" title="xfrm_resource_prefix_quickset_editor" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:include template="base_prefix_quickset_editor">
	<xf:set var="$extraOptions">
		<xf:checkboxrow name="apply_resource_category_ids"
			label="{{ phrase('xfrm_applicable_categories') }}">

			<xf:option label="{{ phrase('xfrm_apply_category_options') }}">
				<xf:dependent>
					<xf:macro template="xfrm_resource_prefix_edit_macros" name="category_ids"
						arg-categoryIds="{$prefix.resource_category_ids}"
						arg-categoryTree="{$categoryTree}"
						arg-withRow="{{ false }}" />
				</xf:dependent>
			</xf:option>
		</xf:checkboxrow>
	</xf:set>
</xf:include>]]></template>
  <template type="public" title="xfrm_resource_rate" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('xfrm_rate_this_resource') }}</xf:title>

<xf:breadcrumb source="$resource.getBreadcrumbs()" />

<xf:form action="{{ link('resources/rate', $resource) }}" class="block" ajax="true">
	<div class="block-container">
		<div class="block-body">
			<xf:if is="$existingRating">
				<xf:inforow rowtype="confirm">
					{{ phrase('xfrm_you_have_already_rated_this_version_rerating_remove_existing') }}
				</xf:inforow>
			</xf:if>

			<xf:macro template="rating_macros" name="rating" />

			<xf:textarearow name="message" rows="2" autosize="true"
				data-xf-init="min-length"
				data-min-length="{$xf.options.xfrmMinimumReviewLength}"
				data-allow-empty="{{ $xf.options.xfrmReviewRequired ? 'false' : 'true' }}"
				data-toggle-target="#js-resourceReviewLength"
				maxlength="{$xf.options.messageMaxLength}"
				label="{{ phrase('review') }}">

				<xf:explain>
					{{ phrase('xfrm_explain_why_youre_giving_this_rating') }}
					<xf:if is="$xf.options.xfrmReviewRequired">
						{{ phrase('xfrm_review_is_required') }}
					</xf:if>
					<xf:if is="$xf.options.xfrmMinimumReviewLength">
						<span id="js-resourceReviewLength">{{ phrase('xfrm_your_review_must_be_at_least_x_characters', {'min': $xf.options.xfrmMinimumReviewLength}) }}</span>
					</xf:if>
				</xf:explain>
			</xf:textarearow>

			<xf:if is="$xf.options.xfrmAllowAnonReview">
				<xf:checkboxrow>
					<xf:option name="is_anonymous"
						label="{{ phrase('xfrm_submit_review_anonymously') }}"
						hint="{{ phrase('xfrm_if_selected_only_staff_will_be_able_to_see_who_wrote_this_review') }}" />
				</xf:checkboxrow>
			</xf:if>
		</div>
		<xf:submitrow submit="{{ phrase('submit_rating') }}" icon="rate" />
	</div>
</xf:form>]]></template>
  <template type="public" title="xfrm_resource_reassign" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('xfrm_reassign_resource') }}</xf:title>

<xf:breadcrumb source="$resource.getBreadcrumbs()" />

<xf:form action="{{ link('resources/reassign', $resource) }}" class="block" ajax="true">
	<div class="block-container">
		<div class="block-body">
			<xf:textboxrow name="username" ac="single" maxlength="{{ max_length($xf.visitor, 'username') }}"
				label="{{ phrase('xfrm_new_owner') }}" />

			<xf:checkboxrow>
				<xf:option name="alert" selected="{{ true }}"
					label="{{ phrase('xfrm_notify_current_and_new_owners_of_this_action') }} {{ phrase('reason:') }}">

					<xf:textbox name="alert_reason" placeholder="{{ phrase('optional') }}" maxlength="250" />
				</xf:option>
			</xf:checkboxrow>
		</div>
		<xf:submitrow icon="save" sticky="true" />
	</div>
</xf:form>]]></template>
  <template type="public" title="xfrm_resource_review_delete" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('xfrm_delete_review') }}</xf:title>

<xf:breadcrumb source="$resource.getBreadcrumbs()" />

<xf:form action="{{ link('resources/review/delete', $review) }}" class="block" ajax="true">
	<div class="block-container">
		<div class="block-body">
			<xf:macro template="helper_action" name="delete_type" arg-canHardDelete="{$review.canDelete('hard')}" />

			<xf:if is="$review.canSendModeratorActionAlert()">
				<xf:macro template="helper_action" name="author_alert" />
			</xf:if>
		</div>
		<xf:submitrow icon="delete" sticky="true" />
	</div>
	<xf:redirect />
</xf:form>]]></template>
  <template type="public" title="xfrm_resource_review_macros" version_id="2000037" version_string="2.0.0 Beta 7"><![CDATA[<xf:macro name="review"
	arg-review="!"
	arg-resource="!"
	arg-showResource="{{ false }}">

	<xf:css src="message.less" />
	<xf:js src="xf/comment.js" min="1" />

	<div class="message message--simple{{ $review.isIgnored() ? ' is-ignored' : '' }}">
		<span class="u-anchorTarget" id="resource-review-{$review.resource_rating_id}"></span>
		<div class="message-inner">
			<span class="message-cell message-cell--user">
				<xf:if is="$review.is_anonymous">
					<xf:macro template="message_macros" name="user_info_simple"
						arg-user="{{ null }}"
						arg-fallbackName="" />
				<xf:else />
					<xf:macro template="message_macros" name="user_info_simple"
						arg-user="{$review.User}"
						arg-fallbackName="{{ phrase('deleted_member') }}" />
				</xf:if>
			</span>
			<div class="message-cell message-cell--main">
				<div class="message-content js-messageContent">
					<div class="message-attribution message-attribution--plain">
						<xf:if is="$showResource">
							<div class="message-attribution-source">
								{{ phrase('xfrm_for_resource_x_in_category_y', {
									'resource': '<a href="' . link('resources', $resource) . '">' . prefix('resource', $resource) . $resource.title . '</a>',
									'category': '<a href="' . link('resources/categories', $resource.Category) . '">' . $resource.Category.title . '</a>'
								}) }}
							</div>
						</xf:if>

						<ul class="listInline listInline--bullet">
							<li class="message-attribution-user">
								<xf:if is="$review.is_anonymous">
									<xf:username user="{{ null }}" defaultname="{{ phrase('anonymous') }}" />
									<xf:if is="$review.canViewAnonymousAuthor()">
										(<xf:username user="{$review.User}" defaultname="{{ phrase('deleted_member') }}" />)
									</xf:if>
								<xf:else />
									<xf:username user="{$review.User}" defaultname="{{ phrase('deleted_member') }}" />
								</xf:if>
							</li>
							<li>
								<xf:macro template="rating_macros" name="stars"
									arg-rating="{$review.rating}"
									arg-class="ratingStars--smaller" />
							</li>
							<li><a href="{{ link('resources/review', $review) }}" class="u-concealed"><xf:date time="$review.rating_date" /></a></li>
							<xf:if is="$resource.isVersioned()">
								<li>{{ phrase('xfrm_version:') }} {$review.version_string}</li>
							</xf:if>
						</ul>
					</div>

					<xf:if is="$review.rating_state == 'deleted'">
						<div class="messageNotice messageNotice--deleted">
							<xf:macro template="deletion_macros" name="notice" arg-log="{$review.DeletionLog}" />
						</div>
					</xf:if>

					<div class="message-body">
						{{ structured_text($review.message) }}
					</div>
				</div>

				<xf:if contentcheck="true">
					<div class="message-actionBar actionBar">
						<xf:contentcheck>
							<xf:if contentcheck="true">
								<div class="actionBar-set actionBar-set--external">
								<xf:contentcheck>
									<xf:if is="$review.canReply()">
										<a class="actionBar-action actionBar-action--reply js-replyTrigger-{$review.resource_rating_id}"
											data-xf-click="toggle"
											data-target=".js-commentsTarget-{$review.resource_rating_id}"
											role="button"
											tabindex="0">
											{{ phrase('reply') }}
										</a>
									</xf:if>
								</xf:contentcheck>
								</div>
							</xf:if>

							<xf:if contentcheck="true">
								<div class="actionBar-set actionBar-set--internal">
								<xf:contentcheck>
									<xf:if is="$review.canReport()">
										<a href="{{ link('resources/review/report', $review) }}" class="actionBar-action actionBar-action--report" data-xf-click="overlay">
											{{ phrase('report') }}
										</a>
									</xf:if>

									<xf:set var="$hasActionBarMenu" value="{{ false }}" />
									<xf:if is="$review.canDelete('soft')">
										<a href="{{ link('resources/review/delete', $review) }}"
											class="actionBar-action actionBar-action--delete actionBar-action--menuItem"
											data-xf-click="overlay">
											{{ phrase('delete') }}
										</a>
										<xf:set var="$hasActionBarMenu" value="{{ true }}" />
									</xf:if>
									<xf:if is="$review.rating_state == 'deleted' AND $review.canUndelete()">
										<a href="{{ link('resources/review/undelete', $review, {'t': csrf_token()}) }}"
											class="actionBar-action actionBar-action--undelete actionBar-action--menuItem">
											{{ phrase('undelete') }}
										</a>
										<xf:set var="$hasActionBarMenu" value="{{ true }}" />
									</xf:if>
									<xf:if is="$review.canWarn()">
										<a href="{{ link('resources/review/warn', $review) }}"
											class="actionBar-action actionBar-action--warn actionBar-action--menuItem">
											{{ phrase('warn') }}
										</a>
										<xf:set var="$hasActionBarMenu" value="{{ true }}" />
									<xf:elseif is="$review.warning_id && $xf.visitor.canViewWarnings()" />
										<a href="{{ link('warnings', {'warning_id': $review.warning_id}) }}"
											class="actionBar-action actionBar-action--warn actionBar-action--menuItem"
											data-xf-click="overlay">
											{{ phrase('view_warning') }}
										</a>
										<xf:set var="$hasActionBarMenu" value="{{ true }}" />
									</xf:if>

									<xf:if is="$hasActionBarMenu">
										<a class="actionBar-action actionBar-action--menuTrigger"
											data-xf-click="menu"
											title="{{ phrase('more_options')|for_attr }}"
											role="button"
											tabindex="0"
											aria-expanded="false"
											aria-haspopup="true">&#8226;&#8226;&#8226;</a>

										<div class="menu" data-menu="menu" aria-hidden="true" data-menu-builder="actionBar">
											<div class="menu-content">
												<h4 class="menu-header">{{ phrase('more_options') }}</h4>
												<div class="js-menuBuilderTarget"></div>
											</div>
										</div>
									</xf:if>
								</xf:contentcheck>
								</div>
							</xf:if>
						</xf:contentcheck>
					</div>
				</xf:if>

				<xf:if contentcheck="true">
					<div class="message-responses js-messageResponses">
					<xf:contentcheck>

						<xf:if is="$review.author_response">
							<xf:macro name="author_reply_row" arg-review="{$review}" arg-resource="{$resource}" />
						<xf:elseif is="$review.canReply()" />
							<div class="js-replyNewMessageContainer"></div>
						</xf:if>

						<xf:if is="$review.canReply()">
							<xf:js src="xf/message.js" min="1" />
							<div class="message-responseRow js-commentsTarget-{$review.resource_rating_id} toggleTarget">
								<xf:form action="{{ link('resources/review/reply', $review) }}" ajax="true" class="comment"
									data-xf-init="quick-reply"
									data-message-container="< .js-messageResponses | .js-replyNewMessageContainer"
									data-submit-hide=".js-commentsTarget-{$review.resource_rating_id}, .js-replyTrigger-{$review.resource_rating_id}">

									<div class="comment-inner">
										<span class="comment-avatar">
											<xf:avatar user="{$xf.visitor}" size="xxs" />
										</span>
										<div class="comment-main">
											<xf:textarea name="message" rows="1" autosize="true"
												maxlength="{$xf.options.messageMaxLength}"
												data-toggle-autofocus="1"
												class="comment-input js-editor"  />
											<div>
												<xf:button type="submit" class="button--primary button--small" icon="reply">{{ phrase('post_reply') }}</xf:button>
											</div>
										</div>
									</div>
								</xf:form>
							</div>
						</xf:if>

					</xf:contentcheck>
					</div>
				</xf:if>
			</div>
		</div>
	</div>
</xf:macro>

<xf:macro name="author_reply_row" arg-review="!" arg-resource="!">
	<div class="message-responseRow">
		<div class="comment">
			<div class="comment-inner">
				<span class="comment-avatar">
					<xf:avatar user="$resource.User" size="xxs" defaultname="{$resource.username}" />
				</span>
				<div class="comment-main">
					<div class="comment-content">
						<div class="comment-contentWrapper">
							<xf:username user="$resource.User" rich="true" defaultname="{$resource.username}" class="comment-user" />
							<div class="comment-body">{{ structured_text($review.author_response) }}</div>
						</div>
					</div>

					<div class="comment-actionBar actionBar">
						<div class="actionBar-set actionBar-set--internal">
							<xf:if is="$review.canDeleteAuthorResponse()">
								<a href="{{ link('resources/review/reply-delete', $review) }}"
									class="actionBar-action actionBar-action--delete actionBar-action--menuItem"
									data-xf-click="overlay">
									{{ phrase('delete') }}
								</a>
							</xf:if>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</xf:macro>

<xf:macro name="review_simple" arg-review="!">
	<div class="contentRow">
		<div class="contentRow-figure">
			<xf:avatar user="{{ $review.is_anonymous ? null : $review.User }}" size="xxs" />
		</div>
		<div class="contentRow-main contentRow-main--close">
			<a href="{{ link('resources/review', $review) }}">{{ prefix('resource', $review.Resource) }}{$review.Resource.title}</a>
			<div class="contentRow-lesser">
				<xf:macro template="rating_macros" name="stars" arg-rating="{$review.rating}" />
			</div>
			<div class="contentRow-lesser">{{ snippet($review.message, 100) }}</div>
			<div class="contentRow-minor contentRow-minor--smaller">
				<ul class="listInline listInline--bullet">
					<li>
						<xf:if is="$review.is_anonymous">
							{{ phrase('anonymous') }}
						<xf:else />
							{{ $review.User.username ?: $review.username }}
						</xf:if>
					</li>
					<li><xf:date time="{$review.rating_date}" /></li>
				</ul>
			</div>
		</div>
	</div>
</xf:macro>]]></template>
  <template type="public" title="xfrm_resource_review_reply_added" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:macro template="xfrm_resource_review_macros" name="author_reply_row"
	arg-review="{$review}"
	arg-resource="{$resource}" />
]]></template>
  <template type="public" title="xfrm_resource_review_reply_delete" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('xfrm_delete_review_response') }}</xf:title>

<xf:breadcrumb source="$resource.getBreadcrumbs()" />

<xf:form action="{{ link('resources/review/reply-delete', $review) }}" class="block" ajax="true">
	<div class="block-container">
		<div class="block-body">
			<xf:inforow rowtype="confirm">
				{{ phrase('xfrm_you_sure_you_want_to_delete_this_review_response') }}
			</xf:inforow>
		</div>
		<xf:submitrow icon="delete" rowtype="simple" />
	</div>
	<xf:redirect />
</xf:form>]]></template>
  <template type="public" title="xfrm_resource_reviews" version_id="2000170" version_string="2.0.1"><![CDATA[<xf:title page="{$page}">{{ prefix('resource', $resource, 'escaped') }}{$resource.title} - {{ phrase('xfrm_reviews') }}</xf:title>

<xf:wrap template="xfrm_resource_wrapper">
	<xf:set var="$pageSelected" value="reviews" />
</xf:wrap>

<div class="block">
	<xf:if contentcheck="true">
		<div class="block-outer">
			<div class="block-outer-opposite">
			<xf:contentcheck>
				<xf:macro template="xfrm_resource_wrapper_macros" name="action_buttons" arg-resource="{$resource}" />
			</xf:contentcheck>
			</div>
		</div>
	</xf:if>

	<div class="block-container">
		<div class="block-body">
		<xf:foreach loop="$reviews" value="$review">
			<xf:macro template="xfrm_resource_review_macros" name="review"
				arg-review="{$review}"
				arg-resource="{$resource}" />
		</xf:foreach>
		</div>
	</div>
	<xf:if contentcheck="true">
		<div class="block-outer block-outer--after">
			<xf:contentcheck>
				<xf:pagenav
					page="{$page}" perpage="{$perPage}" total="{$total}"
					link="resources/reviews" data="{$resource}"
					wrapperclass="block-outer-main" />
			</xf:contentcheck>
		</div>
	</xf:if>
</div>]]></template>
  <template type="public" title="xfrm_resource_tags" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('edit_tags') }}</xf:title>

<xf:breadcrumb source="$resource.getBreadcrumbs()" />

<xf:macro template="tag_macros" name="edit_form"
	arg-action="{{ link('resources/tags', $resource) }}"
	arg-uneditableTags="{$uneditableTags}"
	arg-editableTags="{$editableTags}"
	arg-minTags="{$category.min_tags}" />
]]></template>
  <template type="public" title="xfrm_resource_undelete" version_id="2000035" version_string="2.0.0 Beta 5"><![CDATA[<xf:title>{{ phrase('xfrm_undelete_resource') }}</xf:title>

<xf:breadcrumb source="$resource.getBreadcrumbs()" />

<xf:form action="{{ link('resources/undelete', $resource) }}" class="block" ajax="true">
	<div class="block-container">
		<div class="block-body">
			<xf:inforow rowtype="confirm">
				{{ phrase('please_confirm_that_you_want_to_undelete_following:') }}
				<strong><a href="{{ link('resources', $resource) }}">{$resource.title}</a></strong>
			</xf:inforow>
		</div>
		<xf:submitrow submit="{{ phrase('undelete') }}" rowtype="simple" />
	</div>
</xf:form>]]></template>
  <template type="public" title="xfrm_resource_update_delete" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('xfrm_delete_update') }}</xf:title>

<xf:breadcrumb source="$resource.getBreadcrumbs()" />

<xf:form action="{{ link('resources/update/delete', $update) }}" class="block" ajax="true">
	<div class="block-container">
		<div class="block-body">
			<xf:macro template="helper_action" name="delete_type" arg-canHardDelete="{$update.canDelete('hard')}" />

			<xf:if is="$update.canSendModeratorActionAlert()">
				<xf:macro template="helper_action" name="author_alert" />
			</xf:if>
		</div>
		<xf:submitrow icon="delete" sticky="true" />
	</div>
	<xf:redirect />
</xf:form>]]></template>
  <template type="public" title="xfrm_resource_update_edit" version_id="2000038" version_string="2.0.0 Beta 8"><![CDATA[<xf:title>{{ phrase('xfrm_edit_update') }}</xf:title>

<xf:breadcrumb source="$resource.getBreadcrumbs()" />

<xf:form action="{{ link('resources/update/edit', $update) }}" ajax="true" class="block"
	data-xf-init="attachment-manager"
	data-preview-url="{{ link('resources/update/preview', $update) }}">

	<div class="block-container">
		<div class="block-body">

			<xf:textboxrow name="title" value="{$update.title}" rowtype="{{ $quickEdit ? 'fullWidth' : '' }}"
				maxlength="{{ max_length($update, 'title') }}"
				label="{{ phrase('title') }}" />

			<xf:editorrow name="message" value="{$update.message}" data-min-height="100" rowtype="{{ $quickEdit ? 'fullWidth noLabel' : '' }}"
				attachments="{$attachmentData.attachments}"
				label="{{ phrase('message') }}" />

			<xf:formrow rowtype="{{ $quickEdit ? 'fullWidth noLabel' : '' }}">
				<xf:if is="$attachmentData">
					<xf:macro template="helper_attach_upload" name="upload_block" arg-attachmentData="{$attachmentData}" />
				</xf:if>
				<xf:button class="button--link u-jsOnly" data-xf-click="preview-click" icon="preview" />
			</xf:formrow>

			<xf:if is="$update.canSendModeratorActionAlert()">
				<xf:formrow rowtype="{{ $quickEdit ? 'fullWidth noLabel' : '' }}">
					<xf:macro template="helper_action" name="author_alert" arg-row="{{ false }}" />
				</xf:formrow>
			</xf:if>
		</div>
		<xf:submitrow icon="save" sticky="true" rowtype="{{ $quickEdit ? 'simple' : '' }}">
			<xf:html>
				<xf:button class="u-jsOnly" data-xf-click="preview-click" icon="preview" />
				<xf:if is="$quickEdit">
					<xf:button class="js-cancelButton" icon="cancel">{{ phrase('button.cancel') }}</xf:button>
				</xf:if>
			</xf:html>
		</xf:submitrow>
	</div>
</xf:form>]]></template>
  <template type="public" title="xfrm_resource_update_edit_new_value" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:macro template="xfrm_resource_update_macros" name="resource_update"
	arg-update="{$update}"
	arg-resource="{$resource}" />
]]></template>
  <template type="public" title="xfrm_resource_update_macros" version_id="2000038" version_string="2.0.0 Beta 8"><![CDATA[<xf:macro name="resource_update" arg-update="!" arg-resource="!">
	<xf:css src="message.less" />
	<div class="message message--simple js-resourceUpdate" id="js-resourceUpdate-{$update.resource_update_id}">
		<span class="u-anchorTarget" id="resource-update-{$update.resource_update_id}"></span>
		<div class="message-inner">
			<div class="message-cell message-cell--main">
				<div class="js-quickEditTarget">
					<div class="message-content js-messageContent">
						<div class="message-attribution">
							<h2 class="message-attribution-main block-textHeader">
								<a href="{{ link('resources/update', $update) }}" class="u-concealed" rel="nofollow">{$update.title}</a>
							</h2>
							<span class="message-attribution-opposite">
								<a href="{{ link('resources/update', $update) }}" class="u-concealed" rel="nofollow"><xf:date time="{$update.post_date}" /></a>
							</span>
						</div>

						<xf:if is="$update.message_state == 'deleted'">
							<div class="messageNotice messageNotice--deleted">
								<xf:macro template="deletion_macros" name="notice" arg-log="{$update.DeletionLog}" />
							</div>
						<xf:elseif is="$update.message_state == 'moderated'" />
							<div class="messageNotice messageNotice--moderated">
								{{ phrase('this_message_is_awaiting_moderator_approval_and_is_invisible_to_normal') }}
							</div>
						</xf:if>
						<xf:if is="$update.warning_message">
							<div class="messageNotice messageNotice--warning">
								{$update.warning_message}
							</div>
						</xf:if>

						<div class="message-userContent lbContainer js-lbContainer"
							data-lb-id="resource_update-{$update.resource_update_id}"
							data-lb-caption-desc="{{ $resource.User ? $resource.User.username : $resource.username }} &middot; {{ date_time($update.post_date) }}">

							<blockquote class="message-body">
								{{ bb_code($update.message, 'resource_update', $update) }}
							</blockquote>

							<xf:if is="$update.attach_count">
								<xf:macro template="message_macros" name="attachments"
									arg-attachments="{$update.Attachments}"
									arg-message="{$update}"
									arg-canView="{{ $resource.canViewUpdateImages() }}" />
							</xf:if>
						</div>

						<xf:if contentcheck="true">
							<div class="message-actionBar actionBar">
								<xf:contentcheck>
									<xf:if contentcheck="true">
										<div class="actionBar-set actionBar-set--external">
										<xf:contentcheck>
											<xf:if is="$update.canLike()">
												<a href="{{ link('resources/update/like', $update) }}"
													class="actionBar-action actionBar-action--like"
													data-xf-click="like"
													data-like-list="< .js-resourceUpdate | .js-likeList"><xf:if is="$update.isLiked()">{{ phrase('unlike') }}<xf:else />{{ phrase('like') }}</xf:if></a>
											</xf:if>
										</xf:contentcheck>
										</div>
									</xf:if>

									<xf:if contentcheck="true">
										<div class="actionBar-set actionBar-set--internal">
										<xf:contentcheck>
											<xf:if is="$update.canReport()">
												<a href="{{ link('resources/update/report', $update) }}"
													class="actionBar-action actionBar-action--report"
													data-xf-click="overlay">{{ phrase('report') }}</a>
											</xf:if>

											<xf:set var="$hasActionBarMenu" value="{{ false }}" />
											<xf:if is="$update.canEdit()">
												<xf:js src="xf/message.js" min="1" />
												<a href="{{ link('resources/update/edit', $update) }}"
													class="actionBar-action actionBar-action--edit actionBar-action--menuItem"
													data-xf-click="quick-edit"
													data-editor-target="#js-resourceUpdate-{$update.resource_update_id} .js-quickEditTarget"
													data-menu-closer="true">{{ phrase('edit') }}</a>
												<xf:set var="$hasActionBarMenu" value="{{ true }}" />
											</xf:if>
											<xf:if is="$update.canDelete('soft')">
												<a href="{{ link('resources/update/delete', $update) }}"
													class="actionBar-action actionBar-action--delete actionBar-action--menuItem"
													data-xf-click="overlay">{{ phrase('delete') }}</a>
												<xf:set var="$hasActionBarMenu" value="{{ true }}" />
											</xf:if>
											<xf:if is="$update.message_state == 'deleted' AND $update.canUndelete()">
												<a href="{{ link('resources/update/undelete', $update, {'t': csrf_token()}) }}"
													class="actionBar-action actionBar-action--undelete actionBar-action--menuItem">{{ phrase('undelete') }}</a>
												<xf:set var="$hasActionBarMenu" value="{{ true }}" />
											</xf:if>
											<xf:if is="$xf.visitor.canViewIps() && $update.ip_id">
												<a href="{{ link('resources/update/ip', $update) }}"
													class="actionBar-action actionBar-action--ip actionBar-action--menuItem"
													data-xf-click="overlay">{{ phrase('ip') }}</a>
												<xf:set var="$hasActionBarMenu" value="{{ true }}" />
											</xf:if>
											<xf:if is="$update.canWarn()">
												<a href="{{ link('resources/update/warn', $update) }}"
													class="actionBar-action actionBar-action--warn actionBar-action--menuItem">{{ phrase('warn') }}</a>
												<xf:set var="$hasActionBarMenu" value="{{ true }}" />
											<xf:elseif is="$update.warning_id && $xf.visitor.canViewWarnings()" />
												<a href="{{ link('warnings', {'warning_id': $update.warning_id}) }}"
													class="actionBar-action actionBar-action--warn actionBar-action--menuItem"
													data-xf-click="overlay">{{ phrase('view_warning') }}</a>
												<xf:set var="$hasActionBarMenu" value="{{ true }}" />
											</xf:if>
											<xf:if is="$update.canApproveUnapprove()">
												<xf:if is="$update.message_state == 'moderated'">
													<a href="{{ link('resources/update/approve', $update, {'t': csrf_token()}) }}"
														class="actionBar-action actionBar-action--approve actionBar-action--menuItem">{{ phrase('approve') }}</a>
													<xf:set var="$hasActionBarMenu" value="{{ true }}" />
												<xf:elseif is="$update.message_state == 'visible'" />
													<a href="{{ link('resources/update/unapprove', $update, {'t': csrf_token()}) }}"
														class="actionBar-action actionBar-action--unapprove actionBar-action--menuItem">{{ phrase('unapprove') }}</a>
													<xf:set var="$hasActionBarMenu" value="{{ true }}" />
												</xf:if>
											</xf:if>

											<xf:if is="$hasActionBarMenu">
												<a class="actionBar-action actionBar-action--menuTrigger"
													data-xf-click="menu"
													title="{{ phrase('more_options')|for_attr }}"
													role="button"
													tabindex="0"
													aria-expanded="false"
													aria-haspopup="true">&#8226;&#8226;&#8226;</a>

												<div class="menu" data-menu="menu" aria-hidden="true" data-menu-builder="actionBar">
													<div class="menu-content">
														<h4 class="menu-header">{{ phrase('more_options') }}</h4>
														<div class="js-menuBuilderTarget"></div>
													</div>
												</div>
											</xf:if>
										</xf:contentcheck>
										</div>
									</xf:if>
								</xf:contentcheck>
							</div>
						</xf:if>

						<div class="likesBar js-likeList {{ $update.likes ? 'is-active' : '' }}">
							<xf:likes content="{$update}" url="{{ link('resources/update/likes', $update) }}" />
						</div>

						<div class="js-historyTarget toggleTarget" data-href="trigger-href"></div>
					</div>
				</div>
			</div>
		</div>
	</div>
</xf:macro>]]></template>
  <template type="public" title="xfrm_resource_updates" version_id="2000170" version_string="2.0.1"><![CDATA[<xf:title page="{$page}">{{ prefix('resource', $resource, 'escaped') }}{$resource.title} - {{ phrase('xfrm_updates') }}</xf:title>

<xf:wrap template="xfrm_resource_wrapper">
	<xf:set var="$pageSelected" value="updates" />
</xf:wrap>

<xf:macro template="lightbox_macros" name="setup" arg-canViewAttachments="{{ $resource.canViewUpdateImages() }}" />

<div class="block block--messages">
	<xf:if contentcheck="true">
		<div class="block-outer">
			<div class="block-outer-opposite">
			<xf:contentcheck>
				<xf:macro template="xfrm_resource_wrapper_macros" name="action_buttons" arg-resource="{$resource}" />
			</xf:contentcheck>
			</div>
		</div>
	</xf:if>

	<div class="block-container"
		data-xf-init="lightbox"
		data-lb-id="resource-{$resource.resource_id}"
		data-lb-universal="{$xf.options.lightBoxUniversal}">

		<div class="block-body">
		<xf:foreach loop="$updates" value="$update">
			<xf:macro template="xfrm_resource_update_macros" name="resource_update"
				arg-update="{$update}"
				arg-resource="{$resource}" />
		</xf:foreach>
		</div>
	</div>
	<xf:if contentcheck="true">
		<div class="block-outer block-outer--after">
			<xf:contentcheck>
				<xf:pagenav
					page="{$page}" perpage="{$perPage}" total="{$total}"
					link="resources/updates" data="{$resource}"
					wrapperclass="block-outer-main" />
			</xf:contentcheck>
		</div>
	</xf:if>
</div>]]></template>
  <template type="public" title="xfrm_resource_version_delete" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('xfrm_delete_version') }}</xf:title>

<xf:breadcrumb source="$resource.getBreadcrumbs()" />

<xf:form action="{{ link('resources/version/delete', $version) }}" class="block" ajax="true">
	<div class="block-container">
		<div class="block-body">
			<xf:macro template="helper_action" name="delete_type" arg-canHardDelete="{$version.canDelete('hard')}" />
		</div>
		<xf:submitrow icon="delete" sticky="true" />
	</div>
	<xf:redirect />
</xf:form>]]></template>
  <template type="public" title="xfrm_resource_view" version_id="2000170" version_string="2.0.1"><![CDATA[<xf:title>{{ prefix('resource', $resource, 'escaped') }}{$resource.title}</xf:title>

<xf:set var="$descSnippet" value="{{ snippet($description.message, 250, {'stripBbCode': true}) }}" />

<xf:macro template="metadata_macros" name="metadata"
	arg-description="{$descSnippet}"
	arg-shareUrl="{{ link('canonical:resources', $resource) }}"
	arg-canonicalUrl="{{ link('canonical:resources', $resource) }}" />


<xf:page option="ldJsonHtml">
	<script type="application/ld+json">
	{
		"@context": "https://schema.org",
		"@type": "CreativeWork",
		"@id": "{{ link('canonical:resources', $resource)|escape('json') }}",
		"headline": "{$resource.title|escape('json')}",
		"alternativeHeadline": "{$resource.tag_line|escape('json')}",
		"description": "{$descSnippet|escape('json')}",
		<xf:if is="$resource.isVersioned()">
			"version": "{$resource.CurrentVersion.version_string|escape('json')}",
		</xf:if>
		<xf:if is="$xf.options.xfrmAllowIcons AND $resource.icon_date">
			"thumbnailUrl": "{{ resource_icon($resource, 's')|escape('json') }}",
		</xf:if>
		"dateCreated": "{{ date($resource.resource_date, 'c')|escape('json') }}",
		"dateModified": "{{ date($resource.last_update, 'c')|escape('json') }}",
		<xf:if is="$resource.rating_count">"aggregateRating": {
			"@type": "AggregateRating",
			"ratingCount": "{$resource.rating_count|escape('json')}",
			"ratingValue": "{$resource.rating_avg|escape('json')}"
		},</xf:if>
		<xf:if is="$resource.hasViewableDiscussion()">
			"discussionUrl": "{{ link('canonical:threads', $resource.Discussion)|escape('json') }}",
		</xf:if>
		"author": {
			"@type": "Person",
			"name": "{{ ($resource.User ? $resource.User.username : $resource.username)|escape('json') }}"
		}
	}
	</script>
</xf:page>

<xf:wrap template="xfrm_resource_wrapper">
	<xf:set var="$pageSelected" value="overview" />
</xf:wrap>

<xf:macro template="lightbox_macros" name="setup" arg-canViewAttachments="{{ $resource.canViewUpdateImages() }}" />

<div class="block">
	<xf:if contentcheck="true">
		<div class="block-outer">
			<div class="block-outer-opposite">
			<xf:contentcheck>
				<xf:macro template="xfrm_resource_wrapper_macros" name="action_buttons" arg-resource="{$resource}" />
			</xf:contentcheck>
			</div>
		</div>
	</xf:if>
	<div class="block-container">
		<div class="block-body lbContainer js-resourceBody"
			data-xf-init="lightbox"
			data-lb-id="resource-{$resource.resource_id}"
			data-lb-caption-desc="{{ $resource.User ? $resource.User.username : $resource.username }} &middot; {{ date_time($resource.resource_date) }}">

			<div class="resourceBody">
				<article class="resourceBody-main js-lbContainer">
					<xf:macro template="custom_fields_macros" name="custom_fields_view"
						arg-type="resources"
						arg-group="above_info"
						arg-onlyInclude="{$category.field_cache}"
						arg-set="{$resource.custom_fields}"
						arg-wrapperClass="resourceBody-fields resourceBody-fields--before" />

					<xf:if is="$trimmedDescription">
						{{ bb_code($trimmedDescription, 'resource_update', $description) }}

						<div class="block-rowMessage block-rowMessage--important">
							{{ phrase('xfrm_do_not_have_permission_to_view_full_content_of_this_resource') }}
							<xf:if is="!$xf.visitor.user_id">
								<a href="{{ link('login') }}" data-xf-click="overlay">{{ phrase('log_in_or_register_now') }}</a>
							</xf:if>
						</div>
					<xf:else />
						{{ bb_code($description.message, 'resource_update', $description) }}
					</xf:if>

					<xf:macro template="custom_fields_macros" name="custom_fields_view"
						arg-type="resources"
						arg-group="below_info"
						arg-onlyInclude="{$category.field_cache}"
						arg-set="{$resource.custom_fields}"
						arg-wrapperClass="resourceBody-fields resourceBody-fields--after" />

					<xf:if is="$description.attach_count">
						<xf:if contentcheck="true">
							<xf:css src="attachments.less" />
							<ul class="attachmentList resourceBody-attachments">
								<xf:contentcheck>
									<xf:foreach loop="$description.Attachments" value="$attachment" if="!$description.isAttachmentEmbedded($attachment)">
										<xf:macro template="attachment_macros" name="attachment_list_item"
											arg-attachment="{$attachment}"
											arg-canView="{{ $resource.canViewUpdateImages() }}" />
									</xf:foreach>
								</xf:contentcheck>
							</ul>
						</xf:if>
					</xf:if>

					<xf:if contentcheck="true">
						<div class="actionBar">
							<xf:contentcheck>
								<xf:if contentcheck="true">
									<div class="actionBar-set actionBar-set--external">
									<xf:contentcheck>
										<xf:if is="$description.canLike()">
											<a href="{{ link('resources/update/like', $description) }}" class="actionBar-action actionBar-action--like" data-xf-click="like" data-like-list="< .js-resourceBody | .js-likeList"><xf:if is="$description.isLiked()">{{ phrase('unlike') }}<xf:else />{{ phrase('like') }}</xf:if></a>
										</xf:if>
									</xf:contentcheck>
									</div>
								</xf:if>

								<xf:if contentcheck="true">
									<div class="actionBar-set actionBar-set--internal">
									<xf:contentcheck>
										<xf:if is="$description.canReport()">
											<a href="{{ link('resources/update/report', $description) }}"
												class="actionBar-action actionBar-action--report" data-xf-click="overlay">{{ phrase('report') }}</a>
										</xf:if>

										<xf:set var="$hasActionBarMenu" value="{{ false }}" />
										<xf:if is="$resource.canEdit()">
											<a href="{{ link('resources/edit', $resource) }}"
												class="actionBar-action actionBar-action--edit actionBar-action--menuItem">{{ phrase('edit') }}</a>
											<xf:set var="$hasActionBarMenu" value="{{ true }}" />
										</xf:if>
										<xf:if is="$description.canDelete('soft')">
											<a href="{{ link('resources/delete', $description) }}"
												class="actionBar-action actionBar-action--delete actionBar-action--menuItem"
												data-xf-click="overlay">{{ phrase('delete') }}</a>
											<xf:set var="$hasActionBarMenu" value="{{ true }}" />
										</xf:if>
										<xf:if is="$xf.visitor.canViewIps() && $description.ip_id">
											<a href="{{ link('resources/update/ip', $description) }}"
												class="actionBar-action actionBar-action--ip actionBar-action--menuItem"
												data-xf-click="overlay">{{ phrase('ip') }}</a>
											<xf:set var="$hasActionBarMenu" value="{{ true }}" />
										</xf:if>
										<xf:if is="$description.canWarn()">
											<a href="{{ link('resources/update/warn', $description) }}"
												class="actionBar-action actionBar-action--warn actionBar-action--menuItem">{{ phrase('warn') }}</a>
											<xf:set var="$hasActionBarMenu" value="{{ true }}" />
										<xf:elseif is="$description.warning_id && $xf.visitor.canViewWarnings()" />
											<a href="{{ link('warnings', {'warning_id': $description.warning_id}) }}"
												class="actionBar-action actionBar-action--warn actionBar-action--menuItem"
												data-xf-click="overlay">{{ phrase('view_warning') }}</a>
											<xf:set var="$hasActionBarMenu" value="{{ true }}" />
										</xf:if>

										<xf:if is="$hasActionBarMenu">
											<a class="actionBar-action actionBar-action--menuTrigger"
												data-xf-click="menu"
												title="{{ phrase('more_options') }}"
												role="button"
												tabindex="0"
												aria-expanded="false"
												aria-haspopup="true">&#8226;&#8226;&#8226;</a>

											<div class="menu" data-menu="menu" aria-hidden="true" data-menu-builder="actionBar">
												<div class="menu-content">
													<h4 class="menu-header">{{ phrase('more_options') }}</h4>
													<div class="js-menuBuilderTarget"></div>
												</div>
											</div>
										</xf:if>
									</xf:contentcheck>
									</div>
								</xf:if>
							</xf:contentcheck>
						</div>
					</xf:if>

					<div class="likesBar js-likeList {{ $description.likes ? 'is-active' : '' }}">
						<xf:likes content="{$description}" url="{{ link('resources/update/likes', $description) }}" />
					</div>

					<div class="js-historyTarget toggleTarget" data-href="trigger-href"></div>
				</article>

				<div class="resourceBody-sidebar">
					<div class="resourceSidebarGroup">
						<dl class="pairs pairs--justified">
							<dt>{{ phrase('author') }}</dt>
							<dd><xf:username user="{$resource.User}" defaultname="{$resource.username}" /></dd>
						</dl>
						<xf:if is="$resource.isDownloadable()">
							<dl class="pairs pairs--justified">
								<dt>{{ phrase('xfrm_downloads') }}</dt>
								<dd>{$resource.download_count|number}</dd>
							</dl>
						</xf:if>
						<dl class="pairs pairs--justified">
							<dt>{{ phrase('xfrm_first_release') }}</dt>
							<dd><xf:date time="{$resource.resource_date}" /></dd>
						</dl>
						<dl class="pairs pairs--justified">
							<dt>{{ phrase('xfrm_last_update') }}</dt>
							<dd><xf:date time="{$resource.last_update}" /></dd>
						</dl>
						<dl class="pairs pairs--justified">
							<dt>{{ phrase('rating') }}</dt>
							<dd>
								<xf:macro template="rating_macros" name="stars_text"
									arg-rating="{$resource.rating_avg}"
									arg-count="{$resource.rating_count}"
									arg-rowClass="ratingStarsRow--textBlock" />
							</dd>
						</dl>
					</div>

					<xf:if contentcheck="true">
						<div class="resourceSidebarGroup resourceSidebarGroup--buttons">
							<xf:contentcheck>
								<xf:if is="$resource.hasViewableDiscussion()">
									<xf:button href="{{ link('threads', $resource.Discussion) }}" class="button--fullWidth">{{ phrase('xfrm_join_discussion') }}</xf:button>
								</xf:if>

								<xf:if is="$resource.external_url">
									<xf:button href="{$resource.external_url}" class="button--link button--fullWidth">{{ phrase('xfrm_more_information') }}</xf:button>
								</xf:if>

								<xf:if is="$resource.alt_support_url">
									<xf:button href="{$resource.alt_support_url}" class="button--link button--fullWidth">{{ phrase('xfrm_get_support') }}</xf:button>
								</xf:if>
							</xf:contentcheck>
						</div>
					</xf:if>

					<xf:if is="$authorOthers is not empty">
						<div class="resourceSidebarGroup">
							<h4 class="resourceSidebarGroup-title">
								<a href="{{ link('resources/authors', $resource.User) }}">{{ phrase('xfrm_more_resources_from_x', {'name': $resource.User.username}) }}</a>
							</h4>
							<ul class="resourceSidebarList">
							<xf:foreach loop="$authorOthers" value="$authorOther">
								<li>
									<xf:macro template="xfrm_resource_list_macros" name="resource_simple"
										arg-resource="{$authorOther}"
										arg-withMeta="{{ false }}" />
								</li>
							</xf:foreach>
							</ul>
						</div>
					</xf:if>

					<xf:if contentcheck="true">
						<div class="resourceSidebarGroup">
							<h4 class="resourceSidebarGroup-title">{{ phrase('xfrm_share_this_resource') }}</h4>
							<xf:contentcheck>
								<xf:macro template="share_page_macros" name="buttons" arg-iconic="{{ true }}" />
							</xf:contentcheck>
						</div>
					</xf:if>
				</div>
			</div>
		</div>
	</div>
</div>

<xf:if is="$latestUpdates is not empty">
	<div class="block">
		<div class="block-container">
			<h3 class="block-header">{{ phrase('xfrm_latest_updates') }}</h3>
			<ol class="block-body">
			<xf:foreach loop="$latestUpdates" value="$update">
				<li class="block-row block-row--separated">
					<h3 class="block-textHeader">
						<a href="{{ link('resources/update', $update) }}">{$update.title}</a>
					</h3>
					<div>{{ snippet($update.message, 100, {'stripBbCode': true}) }}</div>
			</xf:foreach>
			</ol>
			<div class="block-footer">
				<span class="block-footer-controls"><xf:button class="button--link" href="{{ link('resources/updates', $resource) }}">{{ phrase('xfrm_read_more...') }}</xf:button></span>
			</div>
		</div>
	</div>
</xf:if>

<xf:if is="$latestReviews is not empty">
	<div class="block">
		<div class="block-container">
			<h3 class="block-header">{{ phrase('xfrm_latest_reviews') }}</h3>
			<div class="block-body">
			<xf:foreach loop="$latestReviews" value="$review">
				<xf:macro template="xfrm_resource_review_macros" name="review"
					arg-review="{$review}"
					arg-resource="{$resource}" />
			</xf:foreach>
			</div>
			<div class="block-footer">
				<span class="block-footer-controls"><xf:button class="button--link" href="{{ link('resources/reviews', $resource) }}">{{ phrase('xfrm_read_more...') }}</xf:button></span>
			</div>
		</div>
	</div>
</xf:if>]]></template>
  <template type="public" title="xfrm_resource_watch" version_id="2000036" version_string="2.0.0 Beta 6"><![CDATA[<xf:if is="$isWatched">
	<xf:title>{{ phrase('xfrm_unwatch_resource') }}</xf:title>
<xf:else />
	<xf:title>{{ phrase('xfrm_watch_resource') }}</xf:title>
</xf:if>

<xf:breadcrumb source="$resource.getBreadcrumbs()" />

<xf:form action="{{ link('resources/watch', $resource) }}" class="block" ajax="true">
	<div class="block-container">
		<div class="block-body">
			<xf:if is="$isWatched">
				<xf:inforow rowtype="confirm">
					{{ phrase('xfrm_you_sure_you_want_to_unwatch_this_resource') }}
				</xf:inforow>

				<xf:hiddenval name="stop">1</xf:hiddenval>
			<xf:else />
				<xf:radiorow name="email_subscribe"
					value="{{ $xf.visitor.Option.interaction_watch_state == 'watch_email' ? 1 : 0}}"
					rowtype="noColon"
					label="{{ phrase('xfrm_watch_this_resource...') }}">

					<xf:option value="1">{{ phrase('and_receive_email_notifications') }}</xf:option>
					<xf:option value="0">{{ phrase('without_receiving_email_notifications') }}</xf:option>
				</xf:radiorow>
			</xf:if>
		</div>
		<xf:if is="$isWatched">
			<xf:submitrow submit="{{ phrase('unwatch') }}" rowtype="simple" icon="notificationsOff" />
		<xf:else />
			<xf:submitrow submit="{{ phrase('watch') }}" icon="notificationsOn" />
		</xf:if>
	</div>
</xf:form>]]></template>
  <template type="public" title="xfrm_resource_wrapper" version_id="2000270" version_string="2.0.2"><![CDATA[<xf:h1 hidden="true" />

<xf:breadcrumb source="$resource.Category.getBreadcrumbs()" />
<xf:css src="xfrm.less" />

<xf:macro template="xfrm_resource_page_macros" name="resource_page_options"
	arg-category="{$resource.Category}"
	arg-resource="{$resource}" />

<xf:macro template="xfrm_resource_wrapper_macros" name="header"
	arg-resource="{$resource}" />

<xf:macro template="xfrm_resource_wrapper_macros" name="tabs"
	arg-resource="{$resource}"
	arg-selected="{$pageSelected}" />

<xf:macro template="xfrm_resource_wrapper_macros" name="status"
	arg-resource="{$resource}" />

{$innerContent|raw}]]></template>
  <template type="public" title="xfrm_resource_wrapper_macros" version_id="2000170" version_string="2.0.1"><![CDATA[<xf:macro name="header"
	arg-resource="!"
	arg-titleHtml="{{ null }}"
	arg-showMeta="{{ true }}"
	arg-metaHtml="{{ null }}">

	<xf:page option="headerHtml">
		<div class="contentRow contentRow--hideFigureNarrow">
			<span class="contentRow-figure">
				<xf:if is="$xf.options.xfrmAllowIcons">
					{{ resource_icon($resource, 's') }}
				<xf:else />
					<xf:avatar user="{$resource.User}" size="s" />
				</xf:if>
			</span>
			<div class="contentRow-main">
				<div class="p-title">
					<h1 class="p-title-value">
						<xf:if is="$titleHtml !== null">
							{$titleHtml|raw}
						<xf:else />
							{{ prefix('resource', $resource) }}{$resource.title}
						</xf:if>
						<xf:if is="$resource.isVersioned()">
							<span class="u-muted">{$resource.CurrentVersion.version_string}</span>
						</xf:if>
					</h1>
					<xf:if is="$resource.isDownloadable()">
						<div class="p-title-pageAction">
							<xf:if is="$resource.canDownload()">
								<xf:button href="{{ link('resources/download', $resource) }}"
									class="button--cta"
									data-xf-click="{{ $resource.CurrentVersion.file_count > 1 ? 'overlay' : '' }}"
									icon="download">{{ phrase('download') }}</xf:button>
							<xf:else />
								<span class="button is-disabled">{{ phrase('xfrm_no_permission_to_download') }}</span>
							</xf:if>
						</div>
					<xf:elseif is="$resource.isExternalPurchasable()" />
						<div class="p-title-pageAction">
							<xf:if is="$resource.canDownload()">
								<xf:button href="{$resource.external_purchase_url}" class="button--cta" icon="purchase">{{ phrase('xfrm_buy_for_x', {'price': $resource.price|currency($resource.currency)}) }}</xf:button>
							<xf:else />
								<span class="button is-disabled">{{ phrase('xfrm_no_permission_to_buy_price_x', {'price': $resource.price|currency($resource.currency)}) }}</span>
							</xf:if>
						</div>
					</xf:if>
				</div>
				<xf:if is="$showMeta">
					<div class="p-description">
						<xf:if is="$metaHtml !== null">
							{$metaHtml|raw}
						<xf:else />
							<ul class="listInline listInline--bullet">
								<li>
									<i class="fa fa-user" aria-hidden="true" title="{{ phrase('author')|for_attr }}"></i>
									<span class="u-srOnly">{{ phrase('author') }}</span>

									<xf:username user="{$resource.User}" defaultname="{$resource.username}" class="u-concealed" />
								</li>
								<li>
									<i class="fa fa-clock-o" aria-hidden="true" title="{{ phrase('xfrm_creation_date')|for_attr }}"></i>
									<span class="u-srOnly">{{ phrase('xfrm_creation_date') }}</span>

									<a href="{{ link('resources', $resource) }}" class="u-concealed"><xf:date time="{$resource.resource_date}" /></a>
								</li>
								<xf:if is="$xf.options.enableTagging AND ($resource.canEditTags() OR $resource.tags)">
									<li>
										<i class="fa fa-tags" aria-hidden="true" title="{{ phrase('tags')|for_attr }}"></i>
										<span class="u-srOnly">{{ phrase('tags') }}</span>

										<xf:if is="$resource.tags">
											<xf:foreach loop="$resource.tags" value="$tag">
												<a href="{{ link('tags', $tag) }}" class="tagItem" dir="auto">{$tag.tag}</a>
											</xf:foreach>
										<xf:else />
											{{ phrase('none') }}
										</xf:if>
										<xf:if is="$resource.canEditTags()">
											<a href="{{ link('resources/tags', $resource) }}" class="u-concealed" data-xf-click="overlay"
												data-xf-init="tooltip" title="{{ phrase('edit_tags')|for_attr }}">
												<i class="fa fa-pencil" aria-hidden="true"></i>
												<span class="u-srOnly">{{ phrase('edit') }}</span>
											</a>
										</xf:if>
									</li>
								</xf:if>
								<xf:if is="$resource.Featured">
									<li><span class="label label--accent">{{ phrase('xfrm_featured') }}</span></li>
								</xf:if>
							</ul>
						</xf:if>
					</div>
				</xf:if>
			</div>
		</div>
	</xf:page>
</xf:macro>

<xf:macro name="status" arg-resource="!">
	<xf:if contentcheck="true">
		<dl class="blockStatus blockStatus--standalone">
			<dt>{{ phrase('status') }}</dt>
			<xf:contentcheck>
				<xf:if is="$resource.resource_state == 'deleted'">
					<dd class="blockStatus-message blockStatus-message--deleted">
						<xf:macro template="deletion_macros" name="notice" arg-log="{$resource.DeletionLog}" />
					</dd>
				<xf:elseif is="$resource.resource_state == 'moderated'" />
					<dd class="blockStatus-message blockStatus-message--moderated">
						{{ phrase('awaiting_approval_before_being_displayed_publicly') }}
					</dd>
				</xf:if>
			</xf:contentcheck>
		</dl>
	</xf:if>
</xf:macro>

<xf:macro name="tabs" arg-resource="!" arg-selected="!">
	<xf:if contentcheck="true">
		<div class="tabs tabs--standalone">
			<div class="hScroller" data-xf-init="h-scroller">
				<span class="hScroller-scroll">
					<a class="tabs-tab {{ $selected == 'overview' ? 'is-active' : '' }}" href="{{ link('resources', $resource) }}">{{ phrase('overview') }}</a>
					<xf:contentcheck>
						<xf:if is="$resource.hasExtraInfoTab()">
							<a class="tabs-tab {{ $selected == 'extra' ? 'is-active' : '' }}" href="{{ link('resources/extra', $resource) }}">{{ phrase('xfrm_extra_info') }}</a>
						</xf:if>
						<xf:foreach loop="$resource.getExtraFieldTabs()" key="$fieldId" value="$fieldValue">
							<a class="tabs-tab {{ $selected == ('field_' . $fieldId) ? 'is-active' : '' }}" href="{{ link('resources/field', $resource, {'field': $fieldId}) }}">{$fieldValue}</a>
						</xf:foreach>
						<xf:if is="$resource.real_update_count">
							<a class="tabs-tab {{ $selected == 'updates' ? 'is-active' : '' }}" href="{{ link('resources/updates', $resource) }}">{{ phrase('xfrm_updates') }} {$resource.real_update_count|parens}</a>
						</xf:if>
						<xf:if is="$resource.real_review_count">
							<a class="tabs-tab {{ $selected == 'reviews' ? 'is-active' : '' }}" href="{{ link('resources/reviews', $resource) }}">{{ phrase('xfrm_reviews') }} {$resource.real_review_count|parens}</a>
						</xf:if>
						<xf:if is="$resource.isVersioned()">
							<a class="tabs-tab {{ $selected == 'history' ? 'is-active' : '' }}" href="{{ link('resources/history', $resource) }}">{{ phrase('history') }}</a>
						</xf:if>
						<xf:if is="$resource.hasViewableDiscussion()">
							<a class="tabs-tab {{ $selected == 'discussion' ? 'is-active' : '' }}" href="{{ link('threads', $resource.Discussion) }}">{{ phrase('xfrm_discussion') }}</a>
						</xf:if>
					</xf:contentcheck>
				</span>
			</div>
		</div>
	</xf:if>
</xf:macro>

<xf:macro name="action_buttons" arg-resource="!">
	<xf:if is="$resource.canRate(false)">
		<xf:button href="{{ link('resources/rate', $resource) }}" overlay="true">
			{{ phrase('leave_rating') }}
		</xf:button>
	</xf:if>
	<xf:if is="$resource.canReleaseUpdate()">
		<xf:button href="{{ link('resources/post-update', $resource) }}">{{ phrase('xfrm_post_update') }}</xf:button>
	</xf:if>

	<xf:if contentcheck="true">
		<div class="buttonGroup">
		<xf:contentcheck>
			<xf:if is="$resource.canUndelete() AND $resource.resource_state == 'deleted'">
				<xf:button href="{{ link('resources/undelete', $resource) }}" class="button--link" overlay="true">
					{{ phrase('undelete') }}
				</xf:button>
			</xf:if>
			<xf:if is="$resource.canApproveUnapprove() AND $resource.resource_state == 'moderated'">
				<xf:button href="{{ link('resources/approve', $resource) }}" class="button--link" overlay="true">
					{{ phrase('approve') }}
				</xf:button>
			</xf:if>
			<xf:if is="$resource.canWatch()">
				<xf:button href="{{ link('resources/watch', $resource) }}" class="button--link"
					data-xf-click="switch-overlay"
					data-sk-watch="{{ phrase('watch') }}"
					data-sk-unwatch="{{ phrase('unwatch') }}">

					<xf:if is="{$resource.Watch.{$xf.visitor.user_id}}">
						{{ phrase('unwatch') }}
					<xf:else />
						{{ phrase('watch') }}
					</xf:if>
				</xf:button>
			</xf:if>

			<xf:if contentcheck="true">
				<div class="buttonGroup-buttonWrapper">
					<xf:button class="button--link menuTrigger" data-xf-click="menu" aria-expanded="false" aria-haspopup="true" title="{{ phrase('more_options')|for_attr }}">&#8226;&#8226;&#8226;</xf:button>
					<div class="menu" data-menu="menu" aria-hidden="true">
						<div class="menu-content">
							<h4 class="menu-header">{{ phrase('more_options') }}</h4>
							<xf:contentcheck>
								<!--[XF:resource_tools_menu:top]-->
								<xf:if is="$resource.canEdit()">
									<a href="{{ link('resources/edit', $resource) }}" class="menu-linkRow">{{ phrase('xfrm_edit_resource') }}</a>
								</xf:if>
								<xf:if is="$resource.canEditIcon()">
									<a href="{{ link('resources/edit-icon', $resource) }}" class="menu-linkRow" data-xf-click="overlay">{{ phrase('xfrm_edit_resource_icon') }}</a>
								</xf:if>
								<xf:if is="$resource.canReleaseUpdate()">
									<a href="{{ link('resources/change-type', $resource) }}" class="menu-linkRow">{{ phrase('xfrm_change_resource_type') }}</a>
								</xf:if>
								<xf:if is="$resource.canFeatureUnfeature()">
									<a href="{{ link('resources/quick-feature', $resource) }}"
										class="menu-linkRow"
										data-xf-click="switch"
										data-menu-closer="true">

										<xf:if is="$resource.Featured">
											{{ phrase('xfrm_resource_quick_unfeature') }}
										<xf:else />
											{{ phrase('xfrm_resource_quick_feature') }}
										</xf:if>
									</a>
								</xf:if>
								<xf:if is="$resource.canMove()">
									<a href="{{ link('resources/move', $resource) }}" data-xf-click="overlay" class="menu-linkRow">{{ phrase('xfrm_move_resource') }}</a>
								</xf:if>
								<xf:if is="$resource.canReassign()">
									<a href="{{ link('resources/reassign', $resource) }}" data-xf-click="overlay" class="menu-linkRow">{{ phrase('xfrm_reassign_resource') }}</a>
								</xf:if>
							<xf:if is="$resource.canDelete('soft')">
									<a href="{{ link('resources/delete', $resource) }}" data-xf-click="overlay" class="menu-linkRow">{{ phrase('xfrm_delete_resource') }}</a>
								</xf:if>
									<!--[XF:resource_tools_menu:before_footer]-->
								<xf:if is="$resource.canUseInlineModeration()">
									<div class="menu-footer"
										data-xf-init="inline-mod"
										data-type="resource"
										data-href="{{ link('inline-mod') }}"
										data-toggle=".js-resourceInlineModToggle">
										<xf:checkbox>
											<xf:option class="js-resourceInlineModToggle" value="{$resource.resource_id}">{{ phrase('select_for_moderation') }}</xf:option>
										</xf:checkbox>
									</div>
									<xf:js src="xf/inline_mod.js" min="1" />
								</xf:if>
								<!--[XF:resource_tools_menu:bottom]-->
							</xf:contentcheck>
						</div>
					</div>
				</div>
			</xf:if>
		</xf:contentcheck>
		</div>
	</xf:if>
</xf:macro>]]></template>
  <template type="public" title="xfrm_thread_insert" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:if is="$resource">
	<xf:set var="$originalH1"><xf:h1 /></xf:set>
	<xf:set var="$originalDescription"><xf:description /></xf:set>

	<xf:h1 hidden="true" />
	<xf:description></xf:description>

	<xf:macro template="xfrm_resource_wrapper_macros" name="header"
		arg-resource="{$resource}"
		arg-titleHtml="{$originalH1}"
		arg-metaHtml="{$originalDescription}" />

	<xf:macro template="xfrm_resource_wrapper_macros" name="tabs"
		arg-resource="{$resource}"
		arg-selected="discussion" />
</xf:if>]]></template>
  <template type="admin" title="xfrm_tools_rebuild" version_id="2000036" version_string="2.0.0 Beta 6"><![CDATA[<xf:macro template="tools_rebuild" name="rebuild_job"
	arg-header="XFRM: {{ phrase('xfrm_rebuild_resources') }}"
	arg-job="XFRM:ResourceItem" />
<!--[XF:after_rm_resource]-->

<xf:macro template="tools_rebuild" name="rebuild_job"
	arg-header="XFRM: {{ phrase('xfrm_rebuild_resource_categories') }}"
	arg-job="XFRM:Category" />
<!--[XF:after_rm_category]-->

<xf:macro template="tools_rebuild" name="rebuild_job"
	arg-header="XFRM: {{ phrase('xfrm_rebuild_user_resource_counts') }}"
	arg-job="XFRM:UserResourceCount" />
<!--[XF:after_rm_category]-->

<xf:set var="$mdBody">
	<xf:checkboxrow name="options[types]" listclass="listColumns">
		<xf:option value="attachments"
			label="{{ phrase('attachments') }}"
			selected="true" />
	</xf:checkboxrow>
</xf:set>
<xf:macro template="tools_rebuild" name="rebuild_job"
	arg-header="XFRM: {{ phrase('xfrm_rebuild_resource_embed_metadata') }}"
	arg-body="{$mdBody}"
	arg-job="XFRM:ResourceUpdateEmbedMetadata" />
<!--[XF:after_rm_metadata]-->]]></template>
  <template type="public" title="xfrm_watched_categories" version_id="2000170" version_string="2.0.1"><![CDATA[<xf:title>{{ phrase('watched_categories') }}</xf:title>

<xf:css src="node_list.less" />

<xf:if is="$watchedCategories is not empty">
	<xf:form action="{{ link('watched/resource-categories/update') }}" ajax="true" class="block" autocomplete="off">
		<div class="block-container">
			<div class="block-body">
				<xf:foreach loop="$categoryTree.getFlattened()" key="$id" value="$treeEntry">
					<xf:set var="$category" value="{$treeEntry.record}" />
					<xf:set var="$categoryWatch" value="{$watchedCategories.{$category.resource_category_id}}" />
					<xf:if is="$categoryWatch">
						<xf:set var="$bonusInfo">
							<ul class="listInline listInline--bullet">
								<xf:if is="$categoryWatch.notify_on == 'resource'">
									<li>{{ phrase('xfrm_new_resources') }}</li>
								<xf:elseif is="$categoryWatch.notify_on == 'update'" />
									<li>{{ phrase('xfrm_new_resources_and_updates') }}</li>
								</xf:if>
								<xf:if is="$categoryWatch.send_email"><li>{{ phrase('emails') }}</li></xf:if>
								<xf:if is="$categoryWatch.send_alert"><li>{{ phrase('alerts') }}</li></xf:if>
								<xf:if is="$categoryWatch.include_children"><li>{{ phrase('sub_categories') }}</li></xf:if>
							</ul>
						</xf:set>
						<xf:macro template="xfrm_category_list_macros" name="category"
							arg-category="{$category}"
							arg-extras="{$categoryExtras.{$category.resource_category_id}}"
							arg-children="{$categoryTree.{$id}.children}"
							arg-childExtras="{$categoryExtras}"
							arg-chooseName="ids"
							arg-bonusInfo="{$bonusInfo}" />
					</xf:if>
				</xf:foreach>
			</div>
			<div class="block-footer block-footer--split">
				<span class="block-footer-counter"></span>
				<span class="block-footer-select"><xf:checkbox standalone="true"><xf:option check-all="< .block-container" label="{{ phrase('select_all') }}" /></xf:checkbox></span>
				<span class="block-footer-controls">
					<xf:select name="watch_action" class="input--inline">
						<xf:option>{{ phrase('with_selected...') }}</xf:option>
						<!--[XF:action_menu:top]-->
						<xf:option value="send_email:on">{{ phrase('enable_email_notification') }}</xf:option>
						<xf:option value="send_email:off">{{ phrase('disable_email_notification') }}</xf:option>
						<xf:option value="send_alert:on">{{ phrase('enable_alerts') }}</xf:option>
						<xf:option value="send_alert:off">{{ phrase('disable_alerts') }}</xf:option>
						<xf:option value="include_children:on">{{ phrase('enable_sub_category_notifications') }}</xf:option>
						<xf:option value="include_children:off">{{ phrase('disable_sub_category_notifications') }}</xf:option>
						<xf:option value="delete">{{ phrase('stop_watching') }}</xf:option>
						<!--[XF:action_menu:bottom]-->
					</xf:select>
					<xf:button type="submit">{{ phrase('go') }}</xf:button>
				</span>
			</div>
		</div>
	</xf:form>
<xf:else />
	<div class="blockMessage">{{ phrase('you_not_watching_any_categories') }}</div>
</xf:if>]]></template>
  <template type="email" title="xfrm_watched_category_resource" version_id="2000038" version_string="2.0.0 Beta 8"><![CDATA[<mail:subject>
	{{ phrase('xfrm_resource_x_new_watched_category', {
		'resource': prefix('resource', $resource, 'escaped') . $resource.title
	}) }}
</mail:subject>

{{ phrase('xfrm_watched_category_resource_email_html', {
	'receiver': $receiver.username,
	'author': username_link_email($resource.User, $resource.username),
	'board': '<a href="' . link('canonical:index') . '">' . $xf.options.boardTitle . '</a>'
}) }}

<h2><a href="{{ link('canonical:resources', $resource) }}">{{ prefix('resource', $resource, 'escaped') }}{$resource.title}</a></h2>

<xf:if is="$xf.options.emailWatchedThreadIncludeMessage">
	<div class="message">{{ bb_code_type('emailHtml', $update.message, 'resource_update', $update) }}</div>
</xf:if>

<xf:macro template="xfrm_resource_macros" name="go_resource_bar" arg-resource="{$resource}" arg-watchType="category" />

<xf:macro template="xfrm_resource_macros" name="watched_category_footer" arg-category="{$category}" arg-resource="{$resource}" />
]]></template>
  <template type="email" title="xfrm_watched_category_update" version_id="2000038" version_string="2.0.0 Beta 8"><![CDATA[<mail:subject>
	{{ phrase('xfrm_resource_x_updated_y', {
		'resource': prefix('resource', $resource, 'escaped') . $resource.title,
		'update': $update.title
	}) }}
</mail:subject>

{{ phrase('xfrm_watched_category_update_email_html', {
	'receiver': $receiver.username,
	'author': username_link_email($resource.User, $resource.username),
	'board': '<a href="' . link('canonical:index') . '">' . $xf.options.boardTitle . '</a>'
}) }}

<h2><a href="{{ link('canonical:resources/update', $update) }}">{{ prefix('resource', $resource, 'escaped') }}{$resource.title} - {$update.title}</a></h2>

<xf:if is="$xf.options.emailWatchedThreadIncludeMessage">
	<div class="message">{{ bb_code_type('emailHtml', $update.message, 'resource_update', $update) }}</div>
</xf:if>

<xf:macro template="xfrm_resource_macros" name="go_resource_bar" arg-resource="{$resource}" arg-watchType="category" />

<xf:macro template="xfrm_resource_macros" name="watched_category_footer" arg-category="{$category}" arg-resource="{$resource}" />
]]></template>
  <template type="email" title="xfrm_watched_resource_update" version_id="2000038" version_string="2.0.0 Beta 8"><![CDATA[<mail:subject>
	{{ phrase('xfrm_resource_x_updated_y', {
		'resource': prefix('resource', $resource, 'escaped') . $resource.title,
		'update': $update.title
	}) }}
</mail:subject>

{{ phrase('xfrm_watched_resource_update_email_html', {
	'receiver': $receiver.username,
	'author': username_link_email($resource.User, $resource.username),
	'board': '<a href="' . link('canonical:index') . '">' . $xf.options.boardTitle . '</a>'
}) }}

<h2><a href="{{ link('canonical:resources/update', $update) }}">{{ prefix('resource', $resource, 'escaped') }}{$resource.title} - {$update.title}</a></h2>

<xf:if is="$xf.options.emailWatchedThreadIncludeMessage">
	<div class="message">{{ bb_code_type('emailHtml', $update.message, 'resource_update', $update) }}</div>
</xf:if>

<xf:macro template="xfrm_resource_macros" name="go_resource_bar" arg-resource="{$resource}" arg-watchType="resource" />

<xf:macro template="xfrm_resource_macros" name="watched_resource_footer" arg-resource="{$resource}" />]]></template>
  <template type="public" title="xfrm_watched_resources" version_id="2000170" version_string="2.0.1"><![CDATA[<xf:title page="{$page}">{{ phrase('xfrm_watched_resources') }}</xf:title>

<xf:if is="$resources is not empty">
	<xf:form action="{{ link('watched/resources/update') }}" ajax="true" class="block" autocomplete="off">
		<div class="block-outer">
			<xf:pagenav
				page="{$page}" perpage="{$perPage}" total="{$total}"
				link="watched/resources"
				wrapperclass="block-outer-main" />

			<div class="block-outer-opposite">
				<xf:button class="button--link menuTrigger" data-xf-click="menu" aria-expanded="false" aria-haspopup="true">{{ phrase('manage_watched_resources') }}</xf:button>
				<div class="menu" data-menu="menu" aria-hidden="true">
					<div class="menu-content">
						<h3 class="menu-header">{{ phrase('manage_watched_resources') }}</h3>
						<!--[XF:manage_menu:top]-->
						<a href="{{ link('watched/resources/manage', null, {'state': 'email_subscribe:off'}) }}" data-xf-click="overlay" class="menu-linkRow">{{ phrase('disable_email_notification') }}</a>
						<a href="{{ link('watched/resources/manage', null, {'state': 'delete'}) }}" data-xf-click="overlay" class="menu-linkRow">{{ phrase('stop_watching_resources') }}</a>
						<!--[XF:manage_menu:bottom]-->
					</div>
				</div>
			</div>
		</div>

		<div class="block-container">
			<div class="block-body">
				<div class="structItemContainer">
					<xf:foreach loop="$resources" value="$resource">
						<xf:set var="$extra" value="{{ {$resource.Watch.{$xf.visitor.user_id}.email_subscribe} ? phrase('email') : '' }}" />
						<xf:macro template="xfrm_resource_list_macros" name="resource"
							arg-resource="{$resource}"
							arg-chooseName="ids"
							arg-showWatched="{{ false }}"
							arg-extraInfo="{$extra}" />
					</xf:foreach>
				</div>
			</div>
			<div class="block-footer block-footer--split">
				<span class="block-footer-counter"></span>
				<span class="block-footer-select"><xf:checkbox standalone="true"><xf:option check-all="< .block-container" label="{{ phrase('select_all') }}" /></xf:checkbox></span>
				<span class="block-footer-controls">
					<xf:select name="watch_action" class="input--inline">
						<xf:option>{{ phrase('with_selected...') }}</xf:option>
						<!--[XF:action_menu:top]-->
						<xf:option value="email_subscribe:on">{{ phrase('enable_email_notification') }}</xf:option>
						<xf:option value="email_subscribe:off">{{ phrase('disable_email_notification') }}</xf:option>
						<xf:option value="delete">{{ phrase('stop_watching') }}</xf:option>
						<!--[XF:action_menu:bottom]-->
					</xf:select>
					<xf:button type="submit">{{ phrase('go') }}</xf:button>
				</span>
			</div>
		</div>

		<div class="block-outer block-outer--after">
			<xf:pagenav link="watched/resources" page="{$page}" perpage="{$perPage}" total="{$total}" />
		</div>
	</xf:form>
<xf:else />
	<div class="blockMessage">
		<xf:if is="$page > 1">
			{{ phrase('xfrm_no_resources_to_display') }}
		<xf:else />
			{{ phrase('xfrm_you_not_watching_any_resources') }}
		</xf:if>
	</div>
</xf:if>]]></template>
  <template type="public" title="xfrm_whats_new_resources" version_id="2000037" version_string="2.0.0 Beta 7"><![CDATA[<xf:title page="{$page}">{{ phrase('xfrm_new_resources') }}</xf:title>

<xf:wrap template="whats_new_wrapper">
	<xf:set var="$pageSelected">new_resource</xf:set>
</xf:wrap>

<xf:pageaction if="$xf.visitor.canAddResource()">
	<xf:button href="{{ link('resources/add') }}" class="button--cta" icon="write" overlay="true">{{ phrase('xfrm_add_resource...') }}</xf:button>
</xf:pageaction>

<xf:if is="$canInlineMod">
	<xf:js src="xf/inline_mod.js" min="1" />
</xf:if>

<div class="block" data-xf-init="{{ $canInlineMod ? 'inline-mod' : '' }}" data-type="resource" data-href="{{ link('inline-mod') }}">
	<xf:if is="$findNew.result_count">
		<div class="block-outer">
			<xf:pagenav
				page="{$page}" perpage="{$perPage}" total="{$findNew.result_count}"
				link="whats-new/resources" data="{$findNew}"
				wrapperclass="block-outer-main" />

			<xf:if contentcheck="true">
				<div class="block-outer-opposite">
					<div class="buttonGroup">
					<xf:contentcheck>
						<xf:if is="$canInlineMod">
							<xf:macro template="inline_mod_macros" name="button" />
						</xf:if>
					</xf:contentcheck>
					</div>
				</div>
			</xf:if>
		</div>
	</xf:if>

	<div class="block-container">
		<xf:if is="$xf.visitor.user_id">
			<div class="block-filterBar">
				<div class="filterBar">
					<xf:if contentcheck="true">
						<ul class="filterBar-filters">
						<xf:contentcheck>
							<!--[XF:filters:top]-->
							<xf:if is="$findNew.filters.watched">
								<li><a href="{{ link('whats-new/resources', $findNew, {'remove': 'watched'}) }}"
									class="filterBar-filterToggle" data-xf-init="tooltip" title="{{ phrase('remove_this_filter')|for_attr }}">
									<span class="filterBar-filterToggle-label">{{ phrase('show_only') }}</span>
									{{ phrase('filter_watched') }}</a></li>
							</xf:if>
							<!--[XF:filters:bottom]-->
						</xf:contentcheck>
						</ul>
					</xf:if>

					<a class="filterBar-menuTrigger" data-xf-click="menu" role="button" tabindex="0" aria-expanded="false" aria-haspopup="true">{{ phrase('filters') }}</a>
					<xf:macro name="filter_menu" arg-findNew="{$findNew}" arg-submitRoute="{{ link('whats-new/resources') }}" />
				</div>
			</div>
		</xf:if>

		<xf:if is="$findNew.result_count">
			<div class="structItemContainer">
				<xf:foreach loop="$resources" value="$resource">
					<xf:macro template="xfrm_resource_list_macros" name="resource"
						arg-resource="{$resource}" />
				</xf:foreach>
			</div>
		<xf:else />
			<div class="block-row">{{ phrase('no_results_found') }}</div>
		</xf:if>
	</div>

	<xf:if is="$findNew.result_count">
		<div class="block-outer block-outer--after">
			<xf:pagenav
				page="{$page}" perpage="{$perPage}" total="{$findNew.result_count}"
				link="whats-new/resources" data="{$findNew}"
				wrapperclass="block-outer-main" />
			<xf:showignored wrapperclass="block-outer-opposite" />
		</div>
	</xf:if>
</div>

<xf:macro name="filter_menu" arg-findNew="!" arg-submitRoute="!">
	<div class="menu" data-menu="menu" aria-hidden="true">
		<div class="menu-content">
			<h4 class="menu-header">{{ phrase('show_only:') }}</h4>
			<xf:form action="{{ link($submitRoute) }}">
				<div class="menu-row">
					<xf:checkbox>
						<xf:option name="watched" selected="{$findNew.filters.watched}">{{ phrase('watched_content') }}</xf:option>
						<!--[XF:filter_menu:filters_extra]-->
					</xf:checkbox>
				</div>
				<!--[XF:filter_menu:below_filters]-->

				<xf:macro template="filter_macros" name="find_new_filter_footer" />
			</xf:form>
		</div>
	</div>
</xf:macro>]]></template>
  <template type="public" title="xfrm_widget_latest_reviews" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:if is="$reviews is not empty">
	<div class="block"{{ widget_data($widget) }}>
		<div class="block-container">
			<h3 class="block-minorHeader">
				<a href="{{ link('resources/latest-reviews') }}" rel="nofollow">{{ $title ?: phrase('xfrm_latest_reviews') }}</a>
			</h3>
			<ul class="block-body">
				<xf:foreach loop="$reviews" value="$review">
					<li class="block-row">
						<xf:macro template="xfrm_resource_review_macros" name="review_simple"
							arg-review="{$review}" />
					</li>
				</xf:foreach>
			</ul>
		</div>
	</div>
</xf:if>]]></template>
  <template type="public" title="xfrm_widget_new_resources" version_id="2000010" version_string="2.0.0 Alpha"><![CDATA[<xf:if is="$resources is not empty">
	<div class="block"{{ widget_data($widget) }}>
		<div class="block-container">
			<xf:if is="$style == 'full'">
				<h3 class="block-header">
					<a href="{$link}" rel="nofollow">{{ $title ?: phrase('xfrm_latest_resources') }}</a>
				</h3>
				<div class="block-body">
					<div class="structItemContainer">
						<xf:foreach loop="$resources" value="$resource">
							<xf:macro template="xfrm_resource_list_macros" name="resource"
								arg-allowInlineMod="{{ false }}"
								arg-resource="{$resource}" />
						</xf:foreach>
					</div>
				</div>
				<xf:if is="$hasMore">
					<div class="block-footer">
						<span class="block-footer-controls">
							<xf:button href="{$link}" rel="nofollow">{{ phrase('view_more...') }}</xf:button>
						</span>
					</div>
				</xf:if>
			<xf:else />
				<h3 class="block-minorHeader">
					<a href="{$link}" rel="nofollow">{{ $title ?: phrase('xfrm_latest_resources') }}</a>
				</h3>
				<ul class="block-body">
					<xf:foreach loop="$resources" value="$resource">
						<li class="block-row">
							<xf:macro template="xfrm_resource_list_macros" name="resource_simple"
								arg-resource="{$resource}" />
						</li>
					</xf:foreach>
				</ul>
			</xf:if>
		</div>
	</div>
</xf:if>]]></template>
  <template type="public" title="xfrm_widget_top_resources" version_id="2000270" version_string="2.0.2"><![CDATA[<xf:if is="$resources is not empty">

	<xf:set var="$headerLink" value="{{ $category ?
		link('resources/categories', $category, {'order': 'rating_weighted'}) :
		link('resources', null, {'order': 'rating_weighted'}) }}" />

	<div class="block"{{ widget_data($widget) }}>
		<div class="block-container">
			<xf:if is="$style == 'full'">
				<h3 class="block-header"><a href="{$headerLink}">{{ $title ?: phrase('xfrm_top_resources') }}</a></h3>
				<div class="block-body">
					<div class="structItemContainer">
						<xf:foreach loop="$resources" value="$resource">
							<xf:macro template="xfrm_resource_list_macros" name="resource"
								arg-allowInlineMod="{{ false }}"
								arg-resource="{$resource}" />
						</xf:foreach>
					</div>
				</div>
			<xf:else />
				<h3 class="block-minorHeader"><a href="{$headerLink}">{{ $title ?: phrase('xfrm_top_resources') }}</a></h3>
				<ul class="block-body">
					<xf:foreach loop="$resources" value="$resource">
						<li class="block-row">
							<xf:macro template="xfrm_resource_list_macros" name="resource_simple"
								arg-resource="{$resource}" />
						</li>
					</xf:foreach>
				</ul>
			</xf:if>
		</div>
	</div>
</xf:if>]]></template>
</templates>
