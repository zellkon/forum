!function(c,b,a,d){XF.SiropuChatUpload=XF.Element.newHandler({options:{},init:function(){var e=this.$target.find(".formSubmitRow-controls");this.$target.on("click",".js-attachmentFile",function(){c(this).toggleClass("siropuChatAttachmentSelected");if(c(this).parent().find(".siropuChatAttachmentSelected").length){e.fadeIn()}else{e.fadeOut()}});e.find("button").on("click",function(){var g=c(this).data("action");var f=[];c(".siropuChatAttachmentSelected").each(function(){if(g=="insert"){XF.SiropuChat.Core.prototype.editorInsertImage(c(this).data("url"))}if(g=="delete"){var i=c(this).data("attachment-id");var h=c(this).data("hash");f.push([i,h])}});if(f.length){XF.ajax("POST",XF.canonicalizeUrl("index.php?chat/delete-attachments"),{remove:f},function(h){if(h.success){c(".siropuChatAttachmentSelected").remove()}})}})}});XF.Element.register("siropu-chat-upload","XF.SiropuChatUpload")}(jQuery,window,document);